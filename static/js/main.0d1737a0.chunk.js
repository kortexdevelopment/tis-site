(this["webpackJsonptis-site"]=this["webpackJsonptis-site"]||[]).push([[0],{191:function(e,t,r){},201:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(22),i=r.n(c),o=(r(191),r(85)),s=r(30),l=r(2),u=r.n(l),d=r(3),p=r(5),b=r(252),f=r(254),j=r(253),h=r(262),x=r(83),v=r(163),m=r(141),g=r(251),O=r(247),y=r(250),C=r.p+"static/media/logo.2d9cc747.png",w="https://truckinsurancesolutions.org/system/functions/api/",k=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,console.log("".concat(w).concat(r)),e.next=4,fetch("".concat(w).concat(r));case 4:if((a=e.sent).ok){e.next=13;break}return e.t0=Error,e.t1="HTTP_NOT_OK: ",e.next=10,a.text();case 10:throw e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),new e.t0(e.t3);case 13:return e.next=15,a.json();case 15:return n=e.sent,e.abrupt("return",n);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(w).concat(t),e.next=3,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:if((n=e.sent).ok){e.next=12;break}return e.t0=Error,e.t1="HTTP_NOT_OK, ".concat(a,", ").concat(JSON.stringify(r),", "),e.next=9,n.text();case 9:throw e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),new e.t0(e.t3);case 12:return c=n.json(),e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(w).concat(t),e.next=3,fetch(a,{method:"POST",body:r});case 3:if((n=e.sent).ok){e.next=12;break}return e.t0=Error,e.t1="HTTP_NOT_OK, ".concat(a,", "),e.next=9,n.text();case 9:throw e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),new e.t0(e.t3);case 12:return c=n.json(),e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"bk_clientNewCertificate.php",a="?cid=".concat(t,"&note=").concat(r),n=k("".concat("bk_clientNewCertificate.php").concat(a)),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"byPassPdf.php",r="?lid=".concat(t),a=k("".concat("byPassPdf.php").concat(r)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"changePasswd.php",a="?uid=".concat(r,"&enc=").concat(t),n=k("".concat("changePasswd.php").concat(a)),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"changePasswdApp.php",a="?uid=".concat(r,"&enc=").concat(t),n=k("".concat("changePasswdApp.php").concat(a)),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"agencyLogin.php",a="?user=".concat(encodeURIComponent(t),"&pass=").concat(encodeURIComponent(r)),n=k("".concat("agencyLogin.php").concat(a)),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"agencyData.php",r="?company_id=".concat(t),a=k("".concat("agencyData.php").concat(r)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"agencyAgents.php",r="?company_id=".concat(t),a=k("".concat("agencyAgents.php").concat(r)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"agencyRemoveAgent.php",r="?uid=".concat(t),a=k("".concat("agencyRemoveAgent.php").concat(r)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"agencyClients.php",r="?company_id=".concat(t),a=k("".concat("agencyClients.php").concat(r)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientProfile.php",r="?cid=".concat(t),a=k("".concat("clientProfile.php").concat(r)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientAppUsers.php",r="?cid=".concat(t),a=k("".concat("clientAppUsers.php").concat(r)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientDrivers.php",r="?cid=".concat(t),a=k("".concat("clientDrivers.php").concat(r)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientVehicles.php",r="?cid=".concat(t),a=k("".concat("clientVehicles.php").concat(r)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientPolices.php",r="?cid=".concat(t),a=k("".concat("clientPolices.php").concat(r)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientCoverages.php",r="?cid=".concat(t),a=k("".concat("clientCoverages.php").concat(r)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientCompanies.php",r="?cid=".concat(t),a=k("".concat("clientCompanies.php").concat(r)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientCertificates.php",r="?cid=".concat(t),a=k("".concat("clientCertificates.php").concat(r)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"applicationAgents.php","",t=k("".concat("applicationAgents.php").concat("")),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"applicationVendors.php",r="?id=".concat(t),a=k("".concat("applicationVendors.php").concat(r)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"applicationTemplates.php",a="?aid=".concat(t,"&vid=").concat(r),n=k("".concat("applicationTemplates.php").concat(a)),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Z=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"documentList.php",r="?cid=".concat(t),a=k("".concat("documentList.php").concat(r)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(u.a.mark((function e(t,r,a){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"sendCertMail.php",n="?to=".concat(r,"&cc=").concat(a,"&pid=").concat(t),c=k("".concat("sendCertMail.php").concat(n)),e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(u.a.mark((function e(t,r,a,n,c){var i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"agencyNewAgent.php",(i={}).cid=t,i.name=r,i.mail=n,i.pass=a,i.level=c,o=F("agencyNewAgent.php",i),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t,r,a,n,c){return e.apply(this,arguments)}}(),K=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"agencyNewClient.php",r=F("agencyNewClient.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientUpdateProfile.php",r=F("clientUpdateProfile.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientNewAppUser.php",r=F("clientNewAppUser.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientRemoveAppUser.php",(r={}).id=t,a=F("clientRemoveAppUser.php",r),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientNewDriver.php",r=F("clientNewDriver.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientRemoveDriver.php",r=F("clientRemoveDriver.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientNewVehicle.php",r=F("clientNewVehicle.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientRemoveVehicle.php",r=F("clientRemoveVehicle.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientNewPolicy.php",r=F("clientNewPolicy.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientRemovePolicy.php",r=F("clientRemovePolicy.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientNewCoverages.php",r=F("clientNewCoverages.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientUpdateCoverages.php",r=F("clientUpdateCoverages.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientNewCompany.php",r=F("clientNewCompany.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientRemoveCompany.php",r=F("clientRemoveCompany.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"applicationCreateLink.php",r=F("applicationCreateLink.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"applicationCreateData.php",r="?id=".concat(t.id),a=k("".concat("applicationCreateData.php").concat(r)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"applicationCreatePdf.php",r=F("applicationCreatePdf.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"documentUpload.php",r=E("documentUpload.php",t),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"documentDelete.php",r=E("documentDelete.php",t),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientUpdateVehicle.php",r=F("clientUpdateVehicle.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientUpdateDriver.php",r=F("clientUpdateDriver.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientUpdatePolicy.php",r=F("clientUpdatePolicy.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"clientAppUserUpdate.php",r=F("clientAppUserUpdate.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"agencyAgentUpdate.php",r=F("agencyAgentUpdate.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=r(1);function ye(){var e=Object(s.f)(),t=n.a.useState(""),r=Object(p.a)(t,2),a=r[0],c=r[1],i=n.a.useState(""),o=Object(p.a)(i,2),l=o[0],w=o[1],k=n.a.useState(!1),F=Object(p.a)(k,2),E=F[0],N=F[1],S=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(N(!0),[a,l].every(Boolean)){t.next=5;break}return alert("All fields are requiered"),N(!1),t.abrupt("return");case 5:return t.prev=5,t.next=8,T();case 8:r=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),r=void 0;case 14:if(void 0!==r&&!r.error){t.next=18;break}return alert("Invalid credentials. Please verify information"),N(!1),t.abrupt("return");case 18:console.log(r),window.localStorage.setItem("session",JSON.stringify(r)),R(),e.push("/main");case 22:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(){return t.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(a,l);case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t=void 0;case 9:if(void 0!==t){e.next=11;break}return e.abrupt("return",void 0);case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(""),w(""),N(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/corporate");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5",display:"flex",justifyContent:"flex-end"},children:Object(Oe.jsx)(x.a,{color:"primary",style:{marginLeft:8,marginRight:8,backgroundColor:"#FFFFFF",color:"#3973E5",fontWeight:"bold",borderRadius:16},variant:"contained",onClick:A,children:"CORPORATE ACCESS"})})}),Object(Oe.jsx)(g.a,{style:{display:"flex",marginTop:"5%",justifyContent:"center"},children:Object(Oe.jsxs)(b.a,{style:{maxWidth:360},elevation:10,children:[Object(Oe.jsx)("img",{style:{height:175,width:360,backgroundColor:"#3973E5"},src:C,alt:"TIS Logo"}),Object(Oe.jsxs)(j.a,{children:[Object(Oe.jsx)(v.a,{variant:"h5",component:"h2",children:"Log In"}),Object(Oe.jsxs)(h.a,{children:[Object(Oe.jsx)(m.a,{style:{marginTop:8},id:"outlined-basic",label:"User",variant:"outlined",color:"primary",placeholder:"Enter your User Name",value:a,onChange:function(e){return c(e.target.value)},disabled:E,fullWidth:!0}),Object(Oe.jsx)(m.a,{style:{marginTop:8},id:"outlined-basic",label:"Password",variant:"outlined",color:"primary",placeholder:"Enter your Password",type:"password",value:l,onChange:function(e){return w(e.target.value)},fullWidth:!0,disabled:E})]})]}),Object(Oe.jsx)(f.a,{children:Object(Oe.jsx)(x.a,{color:"primary",style:{marginLeft:8,marginRight:8,marginBottom:16,backgroundColor:"#3973E5"},variant:"contained",fullWidth:!0,onClick:S,disabled:E,children:"Log In"})})]})})]})}var Ce=r(122),we=r(266),ke=r(260),Fe=r(261),Ee=r(82),Ne=r.n(Ee),Se=r(149),Te=Object(Se.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}}));function Re(){var e=Te();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:e.root,children:Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"WELCOME"})})})}),Object(Oe.jsx)(g.a,{style:{display:"flex",marginTop:"10%",justifyContent:"center"},children:Object(Oe.jsx)(b.a,{style:{borderWidth:5,borderColor:"#3973E5"},elevation:10,children:Object(Oe.jsxs)(j.a,{children:[Object(Oe.jsx)(v.a,{variant:"h5",component:"h2",style:{color:"#3973E5"},children:"WELCOME"}),Object(Oe.jsx)(v.a,{style:{color:"#3973E5"},children:"To navigate througth the system, please use the left panel."})]})})})]})}var Le=r(255),Ae=r(209),De=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : AGENCY.PROFILE \n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return a=r.data,n=a[1],c=a[3],i={producerName:n.split(":")[0],agencyName:n.split(":")[1],license:a[2],phoneNumber:c.split(":")[0],faxNumber:a[4],email:c.split(":")[1],address:a[5],city:a[6],state:a[7],zip:a[8]},e.abrupt("return",i);case 17:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : AGENCY.AGENTS \n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:for(a=r.agents,n=[],c=0;c<a.length;c++)i={id:a[c][0],name:a[c][2],mail:a[c][3],pass:a[c][4],level:1===Number(a[c][5])?"Normal Agent":"Admin Agent"},n.push(i);return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(d.a)(u.a.mark((function e(t,r,a,n,c){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(t,r,a,n,c);case 3:i=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error("Controller Error : AGENCY.NEW AGENT \n".concat(e.t0)),e.abrupt("return",void 0);case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,a,n,c){return e.apply(this,arguments)}}(),Be=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(t);case 3:r=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error("Controller Error : AGENCY.REMOVE AGENT \n".concat(e.t0)),e.abrupt("return",void 0);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : AGENCY.AGENDA \n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:for(a=r.clients,n=[],c=0;c<a.length;c++)i={id:a[c][0],nameF:a[c][2],nameL:a[c][3],bsn:a[c][4],phone:a[c][5],mail:a[c][6]},n.push(i);return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(d.a)(u.a.mark((function e(t,r,a,n,c,i){var o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o={cid:t,nameF:r,nameL:a,nameB:n,phone:c,mail:i};try{s=K(o)}catch(l){console.error("Controller Error : AGENCY.NEW CLIENT \n".concat(l)),s=void 0}return e.abrupt("return",s);case 3:case"end":return e.stop()}}),e)})));return function(t,r,a,n,c,i){return e.apply(this,arguments)}}(),He=r(267),Ge=Object(Se.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},fieldSpacing:{marginRight:20,width:"30%"},fieldSpacingB:{marginRight:20,width:"22%"},containerRoot:{display:"flex",marginTop:25,marginBottom:40,flexDirection:"column"}}}));function Ve(){var e=Ge(),t=JSON.parse(window.localStorage.getItem("session")),r=n.a.useState(void 0),a=Object(p.a)(r,2),c=a[0],i=a[1],o=n.a.useState(!0),s=Object(p.a)(o,2),l=s[0],b=s[1],f=n.a.useState(!1),j=Object(p.a)(f,2),C=j[0],w=j[1],k=n.a.useState(!1),F=Object(p.a)(k,2),E=F[0],N=F[1],S=n.a.useState(""),R=Object(p.a)(S,2),L=R[0],A=R[1],D=n.a.useState(""),I=Object(p.a)(D,2),P=I[0],B=I[1];n.a.useEffect((function(){l&&M()}),[]);var M=function(){var e=Object(d.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De(t.compId);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error loading agency profile.\n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=13;break}return w(!0),e.abrupt("return");case 13:i(r),b(!1);case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Creating new agent Name:".concat(L," Mail:").concat(P)),L===P){e.next=6;break}return alert("Password must match"),e.abrupt("return");case 6:return console.log(t.userId),e.prev=7,e.next=10,T(L,t.userId);case 10:e.sent.result?window.alert("Password successfully modified."):window.alert("An error ocurred, please try again in a couple of minutes."),e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(7),console.error("Controller Error : AGENCY.NEW AGENT \n".concat(e.t0)),e.abrupt("return",void 0);case 18:N(!1),A(""),B("");case 21:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:e.root,children:Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"AGENCY PROFILE"})})})}),l&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:500},children:[!C&&Object(Oe.jsx)(Ae.a,{style:{color:"#3973E5"}}),Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5"},children:C?"Someting whent wrong try again later...":"Loading agency information..."})]})}),!l&&Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)(g.a,{className:e.containerRoot,children:[Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5"},children:"GENERAL INFO"}),Object(Oe.jsx)(Le.a,{style:{marginBottom:20}}),Object(Oe.jsxs)(h.a,{style:{width:"100%"},children:[Object(Oe.jsx)(m.a,{className:e.fieldSpacing,label:"AGENCY NAME",inputProps:{readOnly:!0},value:null===c||void 0===c?void 0:c.agencyName}),Object(Oe.jsx)(m.a,{className:e.fieldSpacing,label:"PRODUCER NAME",inputProps:{readOnly:!0},value:null===c||void 0===c?void 0:c.producerName}),Object(Oe.jsx)(m.a,{className:e.fieldSpacing,label:"LICENSE NUMBER",inputProps:{readOnly:!0},value:null===c||void 0===c?void 0:c.license})]})]}),Object(Oe.jsxs)(g.a,{className:e.containerRoot,children:[Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5"},children:"CONTACT INFO"}),Object(Oe.jsx)(Le.a,{style:{marginBottom:20}}),Object(Oe.jsxs)(h.a,{style:{width:"100%"},children:[Object(Oe.jsx)(m.a,{className:e.fieldSpacing,label:"PHONE NUMBER",inputProps:{readOnly:!0},value:null===c||void 0===c?void 0:c.phoneNumber}),Object(Oe.jsx)(m.a,{className:e.fieldSpacing,label:"FAX NUMBER",inputProps:{readOnly:!0},value:null===c||void 0===c?void 0:c.faxNumber}),Object(Oe.jsx)(m.a,{className:e.fieldSpacing,label:"E-MAIL NUMBER",inputProps:{readOnly:!0},value:null===c||void 0===c?void 0:c.email})]})]}),Object(Oe.jsxs)(g.a,{className:e.containerRoot,children:[Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5"},children:"LOCATION INFO"}),Object(Oe.jsx)(Le.a,{style:{marginBottom:20}}),Object(Oe.jsxs)(h.a,{style:{width:"100%"},children:[Object(Oe.jsx)(m.a,{className:e.fieldSpacingB,label:"ADDRESS",inputProps:{readOnly:!0},value:null===c||void 0===c?void 0:c.address}),Object(Oe.jsx)(m.a,{className:e.fieldSpacingB,label:"CITY",inputProps:{readOnly:!0},value:null===c||void 0===c?void 0:c.city}),Object(Oe.jsx)(m.a,{className:e.fieldSpacingB,label:"STATE",inputProps:{readOnly:!0},value:null===c||void 0===c?void 0:c.state}),Object(Oe.jsx)(m.a,{className:e.fieldSpacingB,label:"ZIP",inputProps:{readOnly:!0},value:null===c||void 0===c?void 0:c.zip})]})]}),Object(Oe.jsxs)(g.a,{className:e.containerRoot,children:[Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5"},children:"Security"}),Object(Oe.jsx)(Le.a,{style:{marginBottom:20}}),Object(Oe.jsx)(x.a,{style:{width:"200px",marginTop:8,marginBottom:8,marginLeft:0,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:function(){return N(!0)},children:"Change Password"})]}),Object(Oe.jsx)(He.a,{open:E,onClose:function(){N(!1),A(""),B("")},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"40%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"Change Password"})})}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Password",variant:"filled",type:"password",value:L,onChange:function(e){return A(e.target.value)}}),Object(Oe.jsx)(m.a,{type:"password",style:{marginTop:8,marginLeft:15,marginRight:15},label:"Confirm Password",variant:"filled",value:P,onChange:function(e){return B(e.target.value)}}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:U,children:"Change Password"})]})})]})]})}var We=r(23),ze=r(33),_e=r.n(ze),Ye=r(28),qe=r.n(Ye),Ze=r(43),$e=r.n(Ze),Je=r(84),Ke=r(123),Xe=r(94),Qe=r(125),et=r(76),tt=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : AGENCY.AGENTS \n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:for(a=r.agents,n=[],c=0;c<a.length;c++)i={id:a[c][0],name:a[c][2],mail:a[c][3],pass:a[c][4],level:Number(a[c][5]),levelLabel:1===Number(a[c][5])?"Normal Agent":"Admin Agent"},n.push(i);return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(d.a)(u.a.mark((function e(t,r,a,n,c){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(t,r,a,n,c);case 3:i=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error("Controller Error : AGENCY.NEW AGENT \n".concat(e.t0)),e.abrupt("return",void 0);case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,a,n,c){return e.apply(this,arguments)}}(),at=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(t);case 3:r=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error("Controller Error : AGENCY.REMOVE AGENT \n".concat(e.t0)),e.abrupt("return",void 0);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge(t);case 3:r=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error("Controller Error : AGENCY.UPDATE AGENT \n".concat(e.t0)),e.abrupt("return",void 0);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ct=r(13),it=r(11);function ot(e){var t=n.a.useState(!1),r=Object(p.a)(t,2),a=r[0],c=r[1],i=n.a.useState({id:0,name:"",mail:"",pass:"",level:0}),o=Object(p.a)(i,2),s=o[0],l=o[1];n.a.useEffect((function(){a||(c(!0),l(Object(it.a)({},e.user)))}));var b=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(Object(it.a)(Object(it.a)({},s),{},Object(ct.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if([s.name,s.mail,s.pass].every(Boolean)){t.next=3;break}return alert("All paramters are required"),t.abrupt("return");case 3:return t.next=5,window.confirm("The information will be updated. \nDo you want to proceed?");case 5:if(t.sent){t.next=8;break}return t.abrupt("return");case 8:return t.prev=8,t.next=11,nt(s);case 11:r=t.sent,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),r=void 0;case 17:if(void 0!==r){t.next=20;break}return alert("Error while updating information. Please, try again"),t.abrupt("return");case 20:alert(r.msg),r.success&&e.onSuccess();case 22:case"end":return t.stop()}}),t,null,[[8,14]])})));return function(){return t.apply(this,arguments)}}();return Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"40%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"EDIT AGENT"})})}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Agent Name",variant:"filled",name:"name",value:s.name,onChange:b}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"E-Mail",variant:"filled",name:"mail",value:s.mail,onChange:b}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Password",variant:"filled",name:"pass",value:s.pass,onChange:b}),Object(Oe.jsxs)(Xe.a,{variant:"filled",style:{marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Qe.a,{id:"levelLabel",children:"Access Level"}),Object(Oe.jsxs)(Ke.a,{labelId:"levelLabel",name:"level",value:s.level,onChange:b,children:[Object(Oe.jsx)(et.a,{value:2,children:"Admin"}),Object(Oe.jsx)(et.a,{value:1,children:"Normal"})]})]}),Object(Oe.jsxs)(h.a,{children:[Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#FF1111",color:"#FFFFFF"},onClick:e.onClose,children:"Cancel"}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:f,children:"Update"})]})]})}var st=r(35);function lt(e){var t=n.a.useState(""),r=Object(p.a)(t,2),a=r[0],c=r[1];n.a.useEffect((function(){""===a&&o()}),[a]);var i=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"===t.key){e.next=2;break}return e.abrupt("return");case 2:o();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var t=Object(d.a)(u.a.mark((function t(){var r,n,c,i,o,s,l,d;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=new RegExp("".concat(a),"i"),n=e.original,c=e.fields,i=new Array(c.length),o=[],""!==a){t.next=8;break}return e.onUpdate(n),t.abrupt("return");case 8:for(s=0;s<c.length;s++)i[s]=new Array,l=n.filter((function(e){return r.test(e[c[s]])})),i[s]=l;for(d=0;d<c.length;d++)o=[].concat(Object(st.a)(i[d]),Object(st.a)(o));e.onUpdate(o);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c("");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(h.a,{style:{display:"flex",alignItems:"center"},children:[Object(Oe.jsx)(m.a,{label:"Enter Search",onKeyDown:i,value:a,onChange:function(e){return c(e.target.value)}}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginLeft:15,marginRight:15,backgroundColor:e.color,color:"#FFFFFF"},onClick:o,children:"Search"}),""!==a&&Object(Oe.jsx)(x.a,{style:{marginTop:8,marginLeft:15,marginRight:15,backgroundColor:e.color,color:"#FFFFFF"},onClick:s,children:"Clear"})]})}var ut=Object(Se.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},fieldSpacing:{marginRight:20,width:"30%"},fieldSpacingB:{marginRight:20,width:"22%"},containerRoot:{display:"flex",marginTop:25,marginBottom:40,flexDirection:"column",overflow:"scrollable"},grid:{},gridHeader:{color:"#FFFFFF",backgroundColor:"#3973E5"}}}));function dt(){var e=ut(),t=JSON.parse(window.localStorage.getItem("session")),r=n.a.useState(!0),a=Object(p.a)(r,2),c=a[0],i=a[1],o=n.a.useState(!1),s=Object(p.a)(o,2),l=s[0],b=s[1],f=n.a.useState([]),j=Object(p.a)(f,2),C=j[0],w=j[1],k=n.a.useState([]),F=Object(p.a)(k,2),E=F[0],N=F[1],S=n.a.useState(!1),R=Object(p.a)(S,2),L=R[0],A=R[1],D=n.a.useState(""),I=Object(p.a)(D,2),P=I[0],B=I[1],M=n.a.useState(""),U=Object(p.a)(M,2),H=U[0],G=U[1],V=n.a.useState(""),W=Object(p.a)(V,2),z=W[0],_=W[1],Y=n.a.useState(""),q=Object(p.a)(Y,2),Z=q[0],$=q[1],J=n.a.useState(""),K=Object(p.a)(J,2),X=K[0],Q=K[1],ee=n.a.useState(!1),te=Object(p.a)(ee,2),re=te[0],ae=te[1],ne=n.a.useState(void 0),ce=Object(p.a)(ne,2),ie=ce[0],oe=ce[1],se=n.a.useState(!1),le=Object(p.a)(se,2),ue=le[0],de=le[1],pe=n.a.useState(""),be=Object(p.a)(pe,2),fe=be[0],je=be[1],he=n.a.useState(""),xe=Object(p.a)(he,2),ve=xe[0],me=xe[1];n.a.useEffect((function(){c&&ge()}),[]),n.a.useEffect((function(){!1===L&&ke()}),[L]),n.a.useEffect((function(){ae(void 0!==ie)}),[ie]);var ge=function(){var e=Object(d.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt(t.compId);case 3:r=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r=void 0;case 9:if(void 0!==r){e.next=12;break}return b(!0),e.abrupt("return");case 12:N(r),w(r),i(!1);case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The selected Agent will be deleted. \nDo you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return Q(t),e.prev=6,e.next=9,at(t);case 9:e.sent,e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(6),alert("Something went wrong while removing the agent, please try again."),Q(""),e.abrupt("return");case 17:Fe();case 18:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(d.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Creating new agent Name:".concat(P," Mail:").concat(H," Pass:").concat(z," Level:").concat(Z)),[P,H,z,Z].every(Boolean)){e.next=4;break}return alert("All parameters are required"),e.abrupt("return");case 4:if(we(H)){e.next=7;break}return alert("E-mail format its not valid, please verify information"),e.abrupt("return");case 7:return e.prev=7,e.next=10,rt(t.compId,P,z,H,Z);case 10:r=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),r=void 0;case 16:if(void 0!==r){e.next=19;break}return alert("Something went wrong while creating this agent, please try again"),e.abrupt("return");case 19:Fe(),A(!1);case 21:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(){return e.apply(this,arguments)}}(),we=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},ke=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(""),G(""),_(""),$("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(d.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt(t.compId);case 3:r=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r=void 0;case 9:if(void 0!==r){e.next=11;break}return e.abrupt("return");case 11:w(r),N(r);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(d.a)(u.a.mark((function e(r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2===t.userTp){e.next=3;break}return alert("Only Admins can edit agents"),e.abrupt("return");case 3:a=C.find((function(e){return e.id===r})),oe(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The progress will be lost. \nDo you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:oe(void 0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fe(),oe(void 0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe===ve){e.next=5;break}return alert("Password must match"),e.abrupt("return");case 5:return e.prev=5,e.next=8,T(fe,t.userId);case 8:e.sent.result?window.alert("Password successfully modified."):window.alert("An error ocurred, please try again in a couple of minutes."),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(5),console.error("Controller Error : AGENCY.NEW AGENT \n".concat(e.t0)),e.abrupt("return",void 0);case 16:de(!1),je(""),me("");case 19:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:e.root,children:Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"AGENCY AGENTS"})})})}),c&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:500},children:[!l&&Object(Oe.jsx)(Ae.a,{style:{color:"#3973E5"}}),Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5"},children:l?"Someting whent wrong try again later...":"Loading agency information..."})]})}),Object(Oe.jsxs)(g.a,{className:e.containerRoot,style:{visibility:!0===c?"hidden":"visible"},children:[Object(Oe.jsx)(h.a,{children:Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5",flex:1},children:"REGISTERED AGENTS"})}),Object(Oe.jsx)(Le.a,{}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"flex-end"},children:[Object(Oe.jsx)(lt,{onUpdate:w,original:E,fields:["name","mail"],color:"#3973E5"}),Object(Oe.jsxs)(Je.a,{"aria-label":"NEW",style:{color:"#3973E5",fontSize:15},onClick:function(){return A(!0)},children:["New Agent ",Object(Oe.jsx)(qe.a,{fontSize:"large"})]})]}),Object(Oe.jsx)("div",{style:{height:500,width:"100%"},children:Object(Oe.jsx)(We.a,{style:{backgroundColor:"#FF0000"},columns:[{field:"id",headerName:"ID",headerClassName:e.gridHeader,flex:1,hide:!0},{field:"name",headerName:"NAME",headerClassName:e.gridHeader,flex:1},{field:"mail",headerName:"ACCESS E-MAIL",headerClassName:e.gridHeader,flex:1},{field:"pass",headerName:"ACCESS PASS",headerClassName:e.gridHeader,flex:1,renderCell:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(h.a,{style:{display:"flex",justifyContent:"space-evenly",width:"100%"},children:Object(Oe.jsx)(x.a,{style:{width:"200px",marginTop:8,marginBottom:8,marginLeft:0,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:function(){return de(!0)},children:"Change Password"})})})}},{field:"levelLabel",headerName:"ACCESS LEVEL",headerClassName:e.gridHeader,flex:1},{field:"action",headerName:"ACTIONS",headerClassName:e.gridHeader,flex:1,sortable:!1,valueGetter:function(e){return e.getValue(e.id,"id")},renderCell:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-evenly",width:"100%"},children:[Object(Oe.jsx)(Je.a,{"aria-label":"DELETE",component:"span",disabled:t.userId===Number(e.value),style:{color:t.userId===Number(e.value)?"#FFFFFF":"#FF0000",backgroundColor:t.userId===Number(e.value)?"#A5C0F3":"#3973E5",marginRight:12,visibility:X===e.value?"hidden":"visible",display:X===e.value?"none":"block"},onClick:function(){return ye(e.value)},children:Object(Oe.jsx)(_e.a,{})}),Object(Oe.jsx)(Ae.a,{style:{color:"#3973E5",visibility:X===e.value?"visible":"hidden",display:X===e.value?"block":"none"}}),Object(Oe.jsx)(Je.a,{"aria-label":"EDIT",component:"span",style:{color:"#73E600",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return Ee(e.value)},children:Object(Oe.jsx)($e.a,{})})]})})}}],rows:C,pageSize:7,disableColumnMenu:!0})})]}),Object(Oe.jsx)(He.a,{open:L,onClose:function(){return A(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"40%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"NEW AGENT"})})}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Agent Name",variant:"filled",value:P,onChange:function(e){return B(e.target.value)}}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"E-Mail",variant:"filled",value:H,onChange:function(e){return G(e.target.value)}}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Password",variant:"filled",value:z,onChange:function(e){return _(e.target.value)}}),Object(Oe.jsxs)(Xe.a,{variant:"filled",style:{marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Qe.a,{id:"levelLabel",children:"Access Level"}),Object(Oe.jsxs)(Ke.a,{labelId:"levelLabel",value:Z,onChange:function(e){return $(e.target.value)},children:[Object(Oe.jsx)(et.a,{value:"",children:"Select one option"}),Object(Oe.jsx)(et.a,{value:2,children:"Admin"}),Object(Oe.jsx)(et.a,{value:1,children:"Normal"})]})]}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:Ce,children:"Create User"})]})}),Object(Oe.jsx)(He.a,{open:re,onClose:Ne,children:Object(Oe.jsx)(ot,{onCancel:Ne,onSuccess:Se,user:ie})}),Object(Oe.jsx)(He.a,{open:ue,onClose:function(){de(!1),je(""),me("")},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"40%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"Change Password"})})}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Password",variant:"filled",type:"password",value:fe,onChange:function(e){return je(e.target.value)}}),Object(Oe.jsx)(m.a,{type:"password",style:{marginTop:8,marginLeft:15,marginRight:15},label:"Confirm Password",variant:"filled",value:ve,onChange:function(e){return me(e.target.value)}}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:Te,children:"Change Password"})]})})]})}var pt=r(153),bt=r.n(pt),ft=r(208),jt=Object(Se.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},fieldSpacing:{marginRight:20,width:"30%"},fieldSpacingB:{marginRight:20,width:"22%"},containerRoot:{display:"flex",marginTop:25,marginBottom:40,flexDirection:"column",overflow:"scrollable"},grid:{},gridHeader:{color:"#FFFFFF",backgroundColor:"#3973E5"}}}));function ht(e){var t=jt(),r=JSON.parse(window.localStorage.getItem("session")),a=n.a.useState([]),c=Object(p.a)(a,2),i=c[0],o=c[1],s=n.a.useState([]),l=Object(p.a)(s,2),b=l[0],f=l[1],j=n.a.useState(!0),C=Object(p.a)(j,2),w=C[0],k=C[1],F=n.a.useState(!1),E=Object(p.a)(F,2),N=E[0],S=E[1],T=n.a.useState(!1),R=Object(p.a)(T,2),L=R[0],A=R[1],D=n.a.useState(!1),I=Object(p.a)(D,2),P=I[0],B=I[1],M=n.a.useState(""),U=Object(p.a)(M,2),H=U[0],G=U[1],V=n.a.useState(""),W=Object(p.a)(V,2),z=W[0],_=W[1],Y=n.a.useState(""),q=Object(p.a)(Y,2),Z=q[0],$=q[1],J=n.a.useState(""),K=Object(p.a)(J,2),X=K[0],Q=K[1],ee=n.a.useState(""),te=Object(p.a)(ee,2),re=te[0],ae=te[1],ne=n.a.useState(""),ce=Object(p.a)(ne,2),ie=ce[0],oe=ce[1];n.a.useEffect((function(){w&&(e.onClient(void 0),se())})),n.a.useEffect((function(){}),[L]);var se=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me(r.compId);case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t=void 0;case 9:if(void 0!==t){e.next=12;break}return S(!0),e.abrupt("return");case 12:o(t),f(t),k(!1);case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var t=Object(d.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(B(!0),G(""),[z,Z,X,re,ie].every(Boolean)){t.next=6;break}return G("*All inputs are required"),ue(!1),t.abrupt("return");case 6:return t.prev=6,t.next=9,Ue(r.compId,z,Z,X,re,ie);case 9:a=t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),a=void 0;case 15:if(void 0!==a&&!a.error){t.next=19;break}return G("Ups... Something went wrong while creating the new client. Please try again."),ue(!1),t.abrupt("return");case 19:e.onClient(a.cid),ue(!0);case 21:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(){return t.apply(this,arguments)}}(),ue=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(_(""),$(""),Q(""),ae(""),oe(""),A(!1),G("")),B(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:t.root,children:Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"CLIENTS AGENDA"})})})}),w&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:500},children:[!N&&Object(Oe.jsx)(Ae.a,{style:{color:"#3973E5"}}),Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5"},children:N?"Someting whent wrong, try again later...":"Loading clients information..."})]})}),Object(Oe.jsxs)(g.a,{className:t.containerRoot,style:{visibility:!0===w?"hidden":"visible"},children:[Object(Oe.jsx)(h.a,{children:Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5",flex:1},children:"REGISTERED CLIENTS"})}),Object(Oe.jsx)(Le.a,{}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"flex-end"},children:[Object(Oe.jsx)(lt,{onUpdate:o,original:b,fields:["nameF","nameL","bsn"],color:"#3973E5"}),Object(Oe.jsxs)(Je.a,{"aria-label":"NEW",style:{color:"#3973E5",fontSize:15},onClick:function(){return A(!0)},children:["New Client ",Object(Oe.jsx)(qe.a,{fontSize:"large"})]})]}),Object(Oe.jsx)("div",{style:{height:500,width:"100%"},children:Object(Oe.jsx)(We.a,{style:{backgroundColor:"#FF0000"},columns:[{field:"id",headerName:"ID",headerClassName:t.gridHeader,flex:1,hide:!0},{field:"nameF",headerName:"FIRST NAME",headerClassName:t.gridHeader,flex:1},{field:"nameL",headerName:"LAST NAME",headerClassName:t.gridHeader,flex:1},{field:"bsn",headerName:"B.S.N.",headerClassName:t.gridHeader,flex:1},{field:"phone",headerName:"PHONE",headerClassName:t.gridHeader,flex:1},{field:"mail",headerName:"E-MAIL",headerClassName:t.gridHeader,flex:1},{field:"action ",headerName:"    ACTIONS",headerClassName:t.gridHeader,flex:.8,sortable:!1,valueGetter:function(e){return e.getValue(e.id,"id")},renderCell:function(t){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(h.a,{style:{display:"flex",justifyContent:"space-evenly",width:"100%"},children:Object(Oe.jsx)(Je.a,{"aria-label":"VIEW PROFILE",component:"span",style:{color:"#3973E5",marginRight:12,fontSize:15},onClick:function(){return e.onClient(t.value)},children:Object(Oe.jsx)(bt.a,{fontSize:"large"})})})})}}],rows:i,pageSize:7,disableColumnMenu:!0})})]}),Object(Oe.jsx)(He.a,{open:L,onClose:function(){return ue(!0)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"25%",width:"60%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"NEW CLIENT"})})}),Object(Oe.jsxs)(h.a,{style:{padding:8},children:[Object(Oe.jsx)(v.a,{style:{color:"#FF0000"},children:H}),Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"Client Info"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-evenly",padding:8},children:[Object(Oe.jsxs)(Xe.a,{children:[Object(Oe.jsx)(m.a,{label:"First Name",variant:"filled",value:z,onChange:function(e){return _(e.target.value)}}),Object(Oe.jsx)(ft.a,{style:{color:"#3973E5"},children:"Leave empty for corporations"})]}),Object(Oe.jsxs)(Xe.a,{children:[Object(Oe.jsx)(m.a,{label:"Last Name",variant:"filled",value:Z,onChange:function(e){return $(e.target.value)}}),Object(Oe.jsx)(ft.a,{style:{color:"#3973E5"},children:"Leave empty for corporations"})]}),Object(Oe.jsx)(m.a,{label:"B.S.N.",variant:"filled",value:X,onChange:function(e){return Q(e.target.value)}})]}),Object(Oe.jsxs)(h.a,{style:{padding:8},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"Contact Info"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-evenly",padding:8},children:[Object(Oe.jsx)(m.a,{label:"Phone",variant:"filled",style:{width:"40%"},value:re,onChange:function(e){return ae(e.target.value)}}),Object(Oe.jsx)(m.a,{label:"E-Mail",variant:"filled",style:{width:"40%"},value:ie,onChange:function(e){return oe(e.target.value)}})]}),Object(Oe.jsxs)(x.a,{disabled:P,style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:P?"#A5C0F3":"#3973E5",color:"#FFFFFF"},onClick:le,children:[P?"Creating ":"Create"," Client"]})]})})]})}var xt=r(263),vt=r(256),mt=r(264),gt=r(257),Ot=r(210),yt=r(211),Ct=r(118),wt=r.n(Ct),kt=function(e){var t=e.split("-");return"".concat(t[1]," / ").concat(t[2]," / ").concat(t[0])},Ft=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.PROFILE \n".concat(e.t0)),r=void 0;case 10:if(void 0!==r&&!r.error){e.next=12;break}return e.abrupt("return",void 0);case 12:return a=r.main,null===(n=r.extra)&&((n=[0]).length=20,n.fill(null)),c={id:a[0],nameF:a[2],nameL:a[3],nameB:a[4],phone:a[5],mail:a[6],gAddress:a[7],gCity:a[8],gState:a[9],gZip:a[10],mAddress:a[11],mCity:a[12],mState:a[13],mZip:a[14],radius:a[15],aFinance:a[17],aAccount:a[18],bFinance:a[19],bAccount:a[20],numCa:a[21],numMc:a[22],numUsDot:a[23],yrsBussines:n[2],yrsStarted:n[3],prior:n[4],caDesc:n[5],caAverage:n[17],caMax:n[19],cbDesc:n[6],cbAverage:n[18],cbMax:n[20],dateFrom:null!=n[10]?kt(n[10]):n[10],dateTo:null!=n[11]?kt(n[11]):n[11],numPolicy:n[12],typePolicy:n[13],losNum:n[14],losMoney:n[15],losDriver:n[16],numViolations:n[7],numAccidents:n[8],numMiles:n[9],readyAddress:function(){return[this.gAddress,this.gCity,this.gState,this.gZip,this.mAddress,this.mCity,this.mState,this.mZip,this.radius].every(Boolean)},readyFiling:function(){return[this.aFinance,this.aAccount,this.bFinance,this.bAccount,this.numCa,this.numMc,this.numUsDot].every(Boolean)},readyAditional:function(){return[this.yrsBussines,this.yrsStarted,this.prior,this.caDesc,this.caAverage,this.caMax,this.cbDesc,this.cbAverage,this.cbMax,this.dateFrom,this.dateTo,this.numPolicy,this.typePolicy,this.losNum,this.losMoney,this.losDriver,this.numViolations,this.numAccidents,this.numMiles].every(Boolean)}},e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Et=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.UPDATE PROFILE \n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.COVERAGES N".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return a=r.coverages,n=void 0,n=a.length===Number(0)?{id:void 0,update:!1,vLiability:-1,dLiability:-1,vCargo:0,dCargo:-1,vGeneral:0,dGeneral:-1}:{id:a[0][0],update:!0,vLiability:a[0][2],dLiability:a[0][3],vCargo:a[0][4],dCargo:a[0][5],vGeneral:a[0][6],dGeneral:a[0][7]},e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),St=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.NEW COVERAGES N".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.UPDATE COVERAGES N".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Rt=Object(Se.a)((function(e){return{root:{flexGrow:1},containerRoot:{display:"flex",marginTop:8,flexDirection:"column",overflow:"scrollable"}}}));function Lt(e){var t=Rt(),r=n.a.useState(0),a=Object(p.a)(r,2),c=a[0],i=a[1],o=n.a.useState(!1),s=Object(p.a)(o,2),l=s[0],b=s[1],f=n.a.useState(!1),j=Object(p.a)(f,2),x=j[0],C=j[1],w=n.a.useState(!1),k=Object(p.a)(w,2),F=k[0],E=k[1],N=n.a.useState(!1),S=Object(p.a)(N,2),T=S[0],R=S[1],L=n.a.useState(!1),A=Object(p.a)(L,2),D=A[0],I=A[1],P=n.a.useState(!0),B=Object(p.a)(P,2),M=B[0],U=B[1],H=n.a.useState(!1),G=Object(p.a)(H,2),V=G[0],W=G[1],z=n.a.useState(void 0),_=Object(p.a)(z,2),Y=_[0],q=_[1],Z=n.a.useState(void 0),$=Object(p.a)(Z,2),J=$[0],K=$[1],X=n.a.useState(!1),Q=Object(p.a)(X,2),ee=Q[0],te=Q[1];n.a.useEffect((function(){M&&re()}),[]),n.a.useEffect((function(){void 0!==Y&&(E(Y.readyAddress()),R(Y.readyFiling()),I(Y.readyAditional()),C(![F,T,D].every(Boolean)))}),[Y]),n.a.useEffect((function(){void 0!==Y&&void 0!==J&&te(J!==Y)})),n.a.useEffect((function(){ee&&ce()}),[l]);var re=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ft(e.cid);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:if(void 0!==r){t.next=12;break}return W(!0),t.abrupt("return");case 12:window.localStorage.setItem("clientProfile",JSON.stringify(r)),q(r),K(r),U(!1);case 16:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),ae=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==Y&&void 0!==Y[t]){e.next=2;break}return e.abrupt("return");case 2:(a=Object(it.a)({},Y))[t]=r,q(a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ne=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Et(Y);case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t=void 0;case 9:if(void 0!==t){e.next=12;break}return alert("Ups... \nSomething went wrong while updating the information. Please try again"),e.abrupt("return");case 12:alert("Client Profile updated successfully"),b(!1);case 14:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The information has changes. \nDo you want to save the changes?");case 2:if(e.sent){e.next=6;break}return q(J),e.abrupt("return");case 6:ne();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:t.root,children:Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"CLIENT PROFILE"})})})}),M&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:500},children:[!V&&Object(Oe.jsx)(Ae.a,{style:{color:"#3973E5"}}),Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5"},children:V?"Someting whent wrong try again later...":"Loading client information..."})]})}),Object(Oe.jsxs)(g.a,{className:t.containerRoot,style:{visibility:M?"hidden":"visible"},children:[Object(Oe.jsx)(h.a,{style:{display:x?"flex":"none",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#FF0000"},children:"*There are missing information for this profile that need to be attend"})}),Object(Oe.jsxs)(O.a,{position:"static",style:{display:"flex",flexDirection:"row"},children:[Object(Oe.jsxs)(xt.a,{value:c,onChange:function(e,t){i(t)},style:{backgroundColor:"#3973E5"},children:[Object(Oe.jsx)(vt.a,{label:"General Info"}),Object(Oe.jsx)(vt.a,{label:"Adresses Info",style:{backgroundColor:F?"":"#FF5959"}}),Object(Oe.jsx)(vt.a,{label:"Filing Info",style:{backgroundColor:T?"":"#FF5959"}}),Object(Oe.jsx)(vt.a,{label:"Additional Info",style:{backgroundColor:D?"":"#FF5959"}})]}),Object(Oe.jsxs)(h.a,{style:{display:"flex",flex:1,justifyContent:"flex-end",alignItems:"center",flexDirection:"row",backgroundColor:"#3973E5"},children:[Object(Oe.jsx)(v.a,{color:"inherit",children:"Edit Info"}),Object(Oe.jsx)(yt.a,{color:"secondary",value:l,checked:l,onChange:function(e){return b(e.target.checked)}}),Object(Oe.jsx)(Je.a,{style:{color:"#FFFFFF"},onClick:function(){return ne()},children:Object(Oe.jsx)(wt.a,{})})]})]}),0===c&&Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)(h.a,{style:{padding:8},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"Client Info"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-evenly",padding:8},children:[Object(Oe.jsx)(m.a,{inputProps:{readOnly:!l},label:"First Name",value:Y?Y.nameF:"",onChange:function(e){return ae("nameF",e.target.value)}}),Object(Oe.jsx)(m.a,{inputProps:{readOnly:!l},label:"Last Name",value:Y?Y.nameL:"",onChange:function(e){return ae("nameL",e.target.value)}}),Object(Oe.jsx)(m.a,{inputProps:{readOnly:!l},label:"B.S.N.",value:Y?Y.nameB:"",onChange:function(e){return ae("nameB",e.target.value)}})]}),Object(Oe.jsxs)(h.a,{style:{padding:8},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"Contact Info"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-evenly",padding:8},children:[Object(Oe.jsx)(m.a,{label:"Phone",inputProps:{readOnly:!l},style:{width:"40%"},value:Y?Y.phone:"",onChange:function(e){return ae("phone",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"E-Mail",inputProps:{readOnly:!l},x:!0,style:{width:"40%"},value:Y?Y.mail:"",onChange:function(e){return ae("mail",e.target.value)}})]})]}),1===c&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",flexDirection:"column"},children:[Object(Oe.jsxs)(h.a,{style:{paddingTop:8},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"Garage Info"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(h.a,{style:{flex:"100%",display:"flex",justifyContent:"space-between",marginBottom:15},children:[Object(Oe.jsx)(m.a,{label:"Address",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},value:Y?Y.gAddress:"",onChange:function(e){return ae("gAddress",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"City",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},value:Y?Y.gCity:"",onChange:function(e){return ae("gCity",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"State",inputProps:{},style:{flex:1,marginRight:8},value:Y?Y.gState:"",onChange:function(e){return ae("gState",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"ZIP",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},value:Y?Y.gZip:"",onChange:function(e){return ae("gZip",e.target.value)}})]}),Object(Oe.jsxs)(h.a,{style:{paddingTop:8},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"Mailing  Info"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(h.a,{style:{flex:"100%",display:"flex",justifyContent:"space-between",marginBottom:15},children:[Object(Oe.jsx)(m.a,{label:"Address",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},value:Y?Y.mAddress:"",onChange:function(e){return ae("mAddress",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"City",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},value:Y?Y.mCity:"",onChange:function(e){return ae("mCity",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"State",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},value:Y?Y.mState:"",onChange:function(e){return ae("mState",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"ZIP",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},value:Y?Y.mZip:"",onChange:function(e){return ae("mZip",e.target.value)}})]}),Object(Oe.jsxs)(h.a,{style:{paddingTop:8},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"Working Radius"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsx)(h.a,{children:Object(Oe.jsx)(Xe.a,{component:"fieldset",disabled:!l,children:Object(Oe.jsxs)(gt.a,{row:!0,"aria-label":"position",name:"position",defaultValue:"top",value:Y?Y.radius:"",onChange:function(e){return ae("radius",e.target.value)},children:[Object(Oe.jsx)(Ot.a,{value:"100",control:Object(Oe.jsx)(mt.a,{style:{color:"#3973E5"}}),label:"100",labelPlacement:"bottom"}),Object(Oe.jsx)(Ot.a,{value:"200",control:Object(Oe.jsx)(mt.a,{style:{color:"#3973E5"}}),label:"200",labelPlacement:"bottom"}),Object(Oe.jsx)(Ot.a,{value:"300",control:Object(Oe.jsx)(mt.a,{style:{color:"#3973E5"}}),label:"300",labelPlacement:"bottom"}),Object(Oe.jsx)(Ot.a,{value:"500",control:Object(Oe.jsx)(mt.a,{style:{color:"#3973E5"}}),label:"500",labelPlacement:"bottom"}),Object(Oe.jsx)(Ot.a,{value:"11 West",control:Object(Oe.jsx)(mt.a,{style:{color:"#3973E5"}}),label:"11 West",labelPlacement:"bottom"}),Object(Oe.jsx)(Ot.a,{value:"48 States",control:Object(Oe.jsx)(mt.a,{style:{color:"#3973E5"}}),label:"48 States",labelPlacement:"bottom"})]})})})]})}),2===c&&Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)(h.a,{style:{paddingTop:8},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"Finance Info"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(Oe.jsx)(m.a,{inputProps:{readOnly:!l},style:{width:"20%"},label:"Finance A",value:Y?Y.aFinance:"",onChange:function(e){return ae("aFinance",e.target.value)}}),Object(Oe.jsx)(m.a,{inputProps:{readOnly:!l},style:{width:"20%"},label:"Finance A - Account Number",value:Y?Y.aAccount:"",onChange:function(e){return ae("aAccount",e.target.value)}}),Object(Oe.jsx)(m.a,{inputProps:{readOnly:!l},style:{width:"20%"},label:"Finance B",value:Y?Y.bFinance:"",onChange:function(e){return ae("bFinance",e.target.value)}}),Object(Oe.jsx)(m.a,{inputProps:{readOnly:!l},style:{width:"20%"},label:"Finance B - Account Number",value:Y?Y.bAccount:"",onChange:function(e){return ae("bAccount",e.target.value)}})]}),Object(Oe.jsxs)(h.a,{style:{paddingTop:16},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"Filing Info"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(Oe.jsx)(m.a,{label:"CA Number",inputProps:{readOnly:!l},style:{width:"30%"},value:Y?Y.numCa:"",onChange:function(e){return ae("numCa",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"MC Number",inputProps:{readOnly:!l},style:{width:"30%"},value:Y?Y.numMc:"",onChange:function(e){return ae("numMc",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"US-DOT Number",inputProps:{readOnly:!l},style:{width:"30%"},value:Y?Y.numUsDot:"",onChange:function(e){return ae("numUsDot",e.target.value)}})]})]}),3===c&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",flexDirection:"column"},children:[Object(Oe.jsxs)(h.a,{style:{paddingTop:8},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1,fontSize:15},children:"Bussines History"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(h.a,{style:{flex:"100%",display:"flex",justifyContent:"space-between",marginBottom:10},children:[Object(Oe.jsx)(m.a,{label:"Years in Bussines",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},size:"small",value:Y?Y.yrsBussines:"",onChange:function(e){return ae("yrsBussines",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"Year Bussines Started",inputProps:{readOnly:!l},style:{flex:1},size:"small",value:Y?Y.yrsStarted:"",onChange:function(e){return ae("yrsStarted",e.target.value)}})]}),Object(Oe.jsxs)(h.a,{children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1,fontSize:15},children:"Prior Carrier"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsx)(h.a,{style:{flex:"100%",display:"flex",justifyContent:"space-between",marginBottom:10},children:Object(Oe.jsx)(m.a,{label:"Enter Information",inputProps:{readOnly:!l},style:{flex:1},size:"small",value:Y?Y.prior:"",onChange:function(e){return ae("prior",e.target.value)}})}),Object(Oe.jsxs)(h.a,{children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1,fontSize:15},children:"Commodity A"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(h.a,{style:{flex:"100%",display:"flex",justifyContent:"space-between",marginBottom:10},children:[Object(Oe.jsx)(m.a,{label:"Description",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},size:"small",value:Y?Y.caDesc:"",onChange:function(e){return ae("caDesc",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"Average Value",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},size:"small",value:Y?Y.caAverage:"",onChange:function(e){return ae("caAverage",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"Max Value",inputProps:{readOnly:!l},style:{flex:1},size:"small",value:Y?Y.caMax:"",onChange:function(e){return ae("caMax",e.target.value)}})]}),Object(Oe.jsxs)(h.a,{children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1,fontSize:15},children:"Commodity B"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(h.a,{style:{flex:"100%",display:"flex",justifyContent:"space-between",marginBottom:10},children:[Object(Oe.jsx)(m.a,{label:"Description",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},size:"small",value:Y?Y.cbDesc:"",onChange:function(e){return ae("cbDesc",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"Average Value",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},size:"small",value:Y?Y.cbAverage:"",onChange:function(e){return ae("cbAverage",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"Max Value",inputProps:{readOnly:!l},style:{flex:1},size:"small",value:Y?Y.cbMax:"",onChange:function(e){return ae("cbMax",e.target.value)}})]}),Object(Oe.jsxs)(h.a,{children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1,fontSize:15},children:"Effective Dates"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(h.a,{style:{flex:"100%",display:"flex",justifyContent:"space-between",marginBottom:10},children:[Object(Oe.jsx)(m.a,{label:"From",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},value:Y?Y.dateFrom:"",onChange:function(e){return ae("dateFrom",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"To",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},value:Y?Y.dateTo:"",onChange:function(e){return ae("dateTo",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"Policy Number",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},value:Y?Y.numPolicy:"",onChange:function(e){return ae("numPolicy",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"Coverage Type",inputProps:{readOnly:!l},style:{flex:1},value:Y?Y.typePolicy:"",onChange:function(e){return ae("typePolicy",e.target.value)}})]}),Object(Oe.jsxs)(h.a,{children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1,fontSize:15},children:"Losses"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(h.a,{style:{flex:"100%",display:"flex",justifyContent:"space-between"},children:[Object(Oe.jsx)(m.a,{label:"No. of Losses",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},size:"small",value:Y?Y.losNum:"",onChange:function(e){return ae("losNum",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"Lost Amount",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},size:"small",value:Y?Y.losMoney:"",onChange:function(e){return ae("losMoney",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"Driver Involved",inputProps:{readOnly:!l},style:{flex:1},size:"small",value:Y?Y.losDriver:"",onChange:function(e){return ae("losDriver",e.target.value)}})]}),Object(Oe.jsxs)(h.a,{style:{flex:"100%",display:"flex",justifyContent:"space-between"},children:[Object(Oe.jsx)(m.a,{label:"No. of Moving Violations",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},size:"small",value:Y?Y.numViolations:"",onChange:function(e){return ae("numViolations",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"No. of Accidents",inputProps:{readOnly:!l},style:{flex:1,marginRight:8},size:"small",value:Y?Y.numAccidents:"",onChange:function(e){return ae("numAccidents",e.target.value)}}),Object(Oe.jsx)(m.a,{label:"No. of Estimated Annual Miles",inputProps:{readOnly:!l},style:{flex:1},size:"small",value:Y?Y.numMiles:"",onChange:function(e){return ae("numMiles",e.target.value)}})]})]})})]})]})}var At=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n,c,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT. APP USERS N".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:for(a=r.users,n=[],c=0;c<a.length;c++)i=a[c][2].split("@"),o={id:a[c][0],user:i[0],userLabel:a[c][2],pass:a[c][3],domain:i[1]},n.push(o);return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(d.a)(u.a.mark((function e(t,r,a){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t,name:r,pass:a,domain:t+".tis"},e.prev=1,e.next=4,Q(n);case 4:c=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Controller Error : CLIENT. NEW APP USERS N".concat(e.t0)),c=void 0;case 11:if(void 0!==c){e.next=13;break}return e.abrupt("return",void 0);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r,a){return e.apply(this,arguments)}}(),It=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=ee(t)}catch(a){console.error("Controller Error : CLIENT. REMOVE APP USERS N".concat(a)),r=void 0}if(void 0!==r){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pt=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=me(t)}catch(a){console.error("Controller Error : CLIENT. UPDATE APP USERS N".concat(a)),r=void 0}if(void 0!==r){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Bt(e){var t=n.a.useState(!1),r=Object(p.a)(t,2),a=r[0],c=r[1],i=n.a.useState({id:0,user:"",pass:""}),o=Object(p.a)(i,2),s=o[0],l=o[1];n.a.useEffect((function(){a||(c(!0),l(Object(it.a)({},e.user)))}));var b=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(Object(it.a)(Object(it.a)({},s),{},Object(ct.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=/[@,\s#%]+/g,[s.user,s.pass].every(Boolean)){e.next=4;break}return alert("All parameters are required"),e.abrupt("return");case 4:if(!t.test(s.user)){e.next=7;break}return alert("User contains ivalid characters. Please, verify information"),e.abrupt("return");case 7:if(!t.test(s.pass)){e.next=10;break}return alert("Password contains ivalid characters. Please, verify information"),e.abrupt("return");case 10:j();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var t=Object(d.a)(u.a.mark((function t(){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.confirm("The information will be updated. \nDo you want to proceed?");case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:return(r=s).user="".concat(s.user,"@").concat(s.domain),t.prev=7,t.next=10,Pt(r);case 10:a=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),a=void 0;case 16:if(void 0!==a){t.next=19;break}return alert("Error while updating information. Please, try again"),t.abrupt("return");case 19:alert(a.msg),a.success&&e.onSuccess();case 21:case"end":return t.stop()}}),t,null,[[7,13]])})));return function(){return t.apply(this,arguments)}}();return Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"40%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"EDIT CREDENTIAL"})})}),Object(Oe.jsxs)(Xe.a,{children:[Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Credential Name",name:"user",value:s.user,onChange:b}),Object(Oe.jsx)(ft.a,{style:{color:"#3973E5",marginLeft:15},children:"Just enter a name. The @domain.dot will be assigned by the system"})]}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Credential Password",name:"pass",value:s.pass,onChange:b}),Object(Oe.jsxs)(h.a,{children:[Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#FF1111",color:"#FFFFFF"},onClick:e.onCancel,children:"Cancel"}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:f,children:"Update"})]})]})}var Mt=Object(Se.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},fieldSpacing:{marginRight:20,width:"30%"},fieldSpacingB:{marginRight:20,width:"22%"},containerRoot:{display:"flex",marginTop:25,marginBottom:40,flexDirection:"column",overflow:"scrollable"},grid:{},gridHeader:{color:"#FFFFFF",backgroundColor:"#3973E5"}}}));function Ut(e){var t=Mt(),r=(JSON.parse(window.localStorage.getItem("session")),n.a.useState(!0)),a=Object(p.a)(r,2),c=a[0],i=a[1],o=n.a.useState(!1),s=Object(p.a)(o,2),l=s[0],b=s[1],f=n.a.useState([]),j=Object(p.a)(f,2),C=j[0],w=j[1],k=n.a.useState([]),F=Object(p.a)(k,2),E=F[0],N=F[1],S=n.a.useState(!1),T=Object(p.a)(S,2),L=T[0],A=T[1],D=n.a.useState(""),I=Object(p.a)(D,2),P=I[0],B=I[1],M=n.a.useState(""),U=Object(p.a)(M,2),H=U[0],G=U[1],V=n.a.useState(0),W=Object(p.a)(V,2),z=W[0],_=W[1],Y=n.a.useState(!1),q=Object(p.a)(Y,2),Z=q[0],$=q[1],J=n.a.useState(void 0),K=Object(p.a)(J,2),X=K[0],Q=K[1],ee=n.a.useState(!1),te=Object(p.a)(ee,2),re=te[0],ae=te[1],ne=n.a.useState(""),ce=Object(p.a)(ne,2),ie=ce[0],oe=ce[1],se=n.a.useState(""),le=Object(p.a)(se,2),ue=le[0],de=le[1],pe=n.a.useState(""),be=Object(p.a)(pe,2),fe=be[0],je=be[1];n.a.useEffect((function(){c&&he()})),n.a.useEffect((function(){!1===L&&ge()}),[L]),n.a.useEffect((function(){$(void 0!==X)}),[X]);var he=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,At(e.cid);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:if(void 0!==r){t.next=12;break}return b(!0),t.abrupt("return");case 12:N(r),w(r),i(!1);case 15:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),xe=function(e){return e.getValue(e.id,"id")},ve=function(){var t=Object(d.a)(u.a.mark((function t(){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=/@/,[P,H].every(Boolean)){t.next=4;break}return alert("All parameters are required"),t.abrupt("return");case 4:if(!r.test(P)){t.next=7;break}return alert("Just enter the user name at NAME field, the system will asign the domain"),t.abrupt("return");case 7:return t.prev=7,t.next=10,Dt(e.cid,P,H);case 10:a=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),a=void 0;case 16:if(void 0!==a){t.next=19;break}return alert("Ups... Something went wrong while creating this credential. Please, try again."),t.abrupt("return");case 19:ye(),ge();case 21:case"end":return t.stop()}}),t,null,[[7,13]])})));return function(){return t.apply(this,arguments)}}(),me=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The selected App credentials will be deleted. \nDo you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return _(t),e.prev=6,e.next=9,It(t);case 9:r=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),r=void 0;case 15:if(void 0!==r){e.next=19;break}return alert("Ups... Something went worng while removing the credential. Please, try again"),_(0),e.abrupt("return");case 19:alert("Credential removed successfully!"),_(0),ye();case 22:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(""),G(""),A(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,At(e.cid);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:if(void 0!==r){t.next=11;break}return t.abrupt("return");case 11:N(r);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),Ce=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=E.find((function(e){return e.id===t})),Q(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The progress will be lost. \nDo you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:Q(void 0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ye(),Q(void 0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(fe),ie===ue){e.next=6;break}return alert("Password must match"),e.abrupt("return");case 6:return e.prev=6,e.next=9,R(ie,fe);case 9:e.sent.result?window.alert("Password successfully modified."):window.alert("An error ocurred, please try again in a couple of minutes."),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(6),console.error("Controller Error : AGENCY.NEW AGENT \n".concat(e.t0)),e.abrupt("return",void 0);case 17:ae(!1),oe(""),je(""),de("");case 21:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:t.root,children:Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"MOBILE APP"})})})}),c&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:500},children:[!l&&Object(Oe.jsx)(Ae.a,{style:{color:"#3973E5"}}),Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5"},children:l?"Someting whent wrong, try again later...":"Loading App Access information..."})]})}),Object(Oe.jsxs)(g.a,{className:t.containerRoot,style:{visibility:!0===c?"hidden":"visible"},children:[Object(Oe.jsx)(h.a,{children:Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5",flex:1},children:"REGISTERED CREDENTIALS"})}),Object(Oe.jsx)(Le.a,{}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"flex-end"},children:[Object(Oe.jsx)(lt,{onUpdate:N,original:C,fields:["user"],color:"#3973E5"}),Object(Oe.jsxs)(Je.a,{"aria-label":"NEW",style:{color:"#3973E5",fontSize:15},onClick:function(){return A(!0)},children:["New Credential ",Object(Oe.jsx)(qe.a,{fontSize:"large"})]})]}),Object(Oe.jsx)("div",{style:{height:500,width:"100%"},children:Object(Oe.jsx)(We.a,{style:{backgroundColor:"#FF0000"},columns:[{field:"id",headerName:"ID",headerClassName:t.gridHeader,flex:1,hide:!0},{field:"userLabel",headerName:"ACCESS CREDENTIAL",headerClassName:t.gridHeader,flex:1},{field:"pass",headerName:"ACCESS PASSWORD",headerClassName:t.gridHeader,flex:1,valueGetter:xe,renderCell:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(h.a,{style:{display:"flex",justifyContent:"space-evenly",width:"100%"},children:Object(Oe.jsx)(x.a,{style:{width:"200px",marginTop:8,marginBottom:8,marginLeft:0,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:function(){ae(!0),je(e.value)},children:"Change Password"})})})}},{field:"action",headerName:"ACTIONS",headerClassName:t.gridHeader,flex:1,sortable:!1,valueGetter:xe,renderCell:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:z!==Number(e.value)?"flex":"none",justifyContent:"space-evenly",width:"100%"},children:[Object(Oe.jsx)(Je.a,{"aria-label":"DELETE",component:"span",style:{color:"#FF0000",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return me(e.value)},children:Object(Oe.jsx)(_e.a,{})}),Object(Oe.jsx)(Je.a,{"aria-label":"DELETE",component:"span",style:{color:"#00FF00",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return Ce(e.value)},children:Object(Oe.jsx)($e.a,{})})]})})}}],rows:E,pageSize:7,disableColumnMenu:!0})})]}),Object(Oe.jsx)(He.a,{open:L,onClose:function(){return A(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"40%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"NEW CREDENTIAL"})})}),Object(Oe.jsxs)(Xe.a,{children:[Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Credential Name",variant:"filled",value:P,onChange:function(e){return B(e.target.value)}}),Object(Oe.jsx)(ft.a,{style:{color:"#3973E5",marginLeft:15},children:"Just enter a name. The @domain.dot will be assigned by the system"})]}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Credential Password",variant:"filled",value:H,onChange:function(e){return G(e.target.value)}}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:ve,children:"Create Creadential"})]})}),Object(Oe.jsx)(He.a,{open:Z,onClose:we,children:Object(Oe.jsx)(Bt,{onCancel:we,onSuccess:ke,user:X})}),Object(Oe.jsx)(He.a,{open:re,onClose:function(){ae(!1),oe(""),de("")},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"40%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"Change Password"})})}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Password",variant:"filled",type:"password",value:ie,onChange:function(e){return oe(e.target.value)}}),Object(Oe.jsx)(m.a,{type:"password",style:{marginTop:8,marginLeft:15,marginRight:15},label:"Confirm Password",variant:"filled",value:ue,onChange:function(e){return de(e.target.value)}}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:Fe,children:"Change Password"})]})})]})}var Ht=r(204),Gt=r(258),Vt=Object(Se.a)((function(e){return{root:{flexGrow:1},containerRoot:{display:"flex",marginTop:8,flexDirection:"column",overflow:"scrollable"},selectControl:{flex:1},textSingned:{flex:1,marginRight:8}}}));function Wt(e){var t=Vt(),r=n.a.useState(-1),a=Object(p.a)(r,2),c=(a[0],a[1],n.a.useState(!0)),i=Object(p.a)(c,2),o=i[0],s=i[1],l=n.a.useState(!1),b=Object(p.a)(l,2),f=b[0],j=b[1],x=n.a.useState(void 0),m=Object(p.a)(x,2),C=m[0],w=m[1],k=n.a.useState(""),F=Object(p.a)(k,2),E=(F[0],F[1],n.a.useState("")),N=Object(p.a)(E,2),S=(N[0],N[1],n.a.useState(!1)),T=Object(p.a)(S,2),R=T[0],L=T[1];n.a.useEffect((function(){o&&A()}));var A=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Nt(e.cid);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:if(void 0!==r){t.next=12;break}return j(!0),t.abrupt("return");case 12:w(r),s(!1);case 14:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==C.vLiability){e.next=3;break}return alert("Must select an option for Libility Value"),e.abrupt("return");case 3:if(-1!==C.dLiability){e.next=6;break}return alert("Must select an option for Libility Deductible"),e.abrupt("return");case 6:if(-1!==C.dCargo){e.next=9;break}return alert("Must select an option for Cargo Deductible"),e.abrupt("return");case 9:if(-1!==C.dGeneral){e.next=12;break}return alert("Must select an option for Gral. Liability Deductible"),e.abrupt("return");case 12:!0===C.update?P():I();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var t=Object(d.a)(u.a.mark((function t(){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(it.a)(Object(it.a)({},C),{},{cid:e.cid}),t.prev=1,t.next=4,St(r);case 4:a=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a=void 0;case 10:if(void 0!==a){t.next=13;break}return alert("Ups... Something went wrong while updating the coverages. Please, try again"),t.abrupt("return");case 13:alert("Coverages updated successfully!"),L(!1);case 15:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tt(C);case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t=void 0;case 9:if(void 0!==t){e.next=12;break}return alert("Ups... Something went wrong while updating the coverages. Please, try again"),e.abrupt("return");case 12:alert("Coverages updated successfully!"),L(!1);case 14:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(Object(it.a)(Object(it.a)({},C),{},Object(ct.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:t.root,children:Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"CLIENT COVERAGES"})})})}),o&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:500},children:[!f&&Object(Oe.jsx)(Ae.a,{style:{color:"#3973E5"}}),Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5"},children:f?"Someting whent wrong, try again later...":"Loading Coverages information..."})]})}),Object(Oe.jsxs)(g.a,{className:t.containerRoot,style:{visibility:!0===o?"hidden":"visible"},children:[Object(Oe.jsxs)(O.a,{position:"static",style:{display:"flex",flexDirection:"row",backgroundColor:"#3973E5",alignItems:"center",paddingLeft:12},children:[Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"REGISTERED COVERAGES"}),Object(Oe.jsxs)(h.a,{style:{display:"flex",flex:1,justifyContent:"flex-end",alignItems:"center",flexDirection:"row",backgroundColor:"#3973E5"},children:[Object(Oe.jsx)(v.a,{color:"inherit",children:"Edit Coverages"}),Object(Oe.jsx)(yt.a,{color:"secondary",value:R,checked:R,onChange:function(e){return L(e.target.checked)}}),Object(Oe.jsx)(Je.a,{style:{color:"#FFFFFF"},onClick:D,children:Object(Oe.jsx)(wt.a,{})})]})]}),Object(Oe.jsxs)(h.a,{style:{display:"flex",flexDirection:"column"},children:[Object(Oe.jsxs)(h.a,{style:{paddingTop:8},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"Liability"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(h.a,{style:{flex:"100%",display:"flex",justifyContent:"space-between",marginBottom:15},children:[Object(Oe.jsxs)(Xe.a,{className:t.textSingned,children:[Object(Oe.jsx)(Qe.a,{id:"title",children:"Value "}),Object(Oe.jsxs)(Ke.a,{disabled:!R,labelId:"title",name:"vLiability",value:void 0===C?-1:C.vLiability,onChange:B,displayEmpty:!0,children:[Object(Oe.jsx)(et.a,{value:-1,children:"Select an option"}),Object(Oe.jsx)(et.a,{value:75e4,children:"$750,000"}),Object(Oe.jsx)(et.a,{value:1e6,children:"$1,000,000"})]})]}),Object(Oe.jsxs)(Xe.a,{className:t.selectControl,children:[Object(Oe.jsx)(Qe.a,{id:"title",children:"Deductible "}),Object(Oe.jsxs)(Ke.a,{disabled:!R,labelId:"title",name:"dLiability",value:void 0===C?-1:C.dLiability,onChange:B,displayEmpty:!0,children:[Object(Oe.jsx)(et.a,{value:-1,children:"Select an option"}),Object(Oe.jsx)(et.a,{value:0,children:"N/A"}),Object(Oe.jsx)(et.a,{value:1e3,children:"$1,000"}),Object(Oe.jsx)(et.a,{value:2500,children:"$2,500"}),Object(Oe.jsx)(et.a,{value:5e3,children:"$5,000"})]})]})]})]}),Object(Oe.jsxs)(h.a,{style:{display:"flex",flexDirection:"column"},children:[Object(Oe.jsxs)(h.a,{style:{paddingTop:8},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"Cargo"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(h.a,{style:{flex:"100%",display:"flex",justifyContent:"space-between",marginBottom:15},children:[Object(Oe.jsxs)(Xe.a,{fullWidth:!0,className:t.textSingned,children:[Object(Oe.jsx)(Qe.a,{htmlFor:"value",children:"Value"}),R&&Object(Oe.jsx)(Ht.a,{id:"value",type:"number",startAdornment:Object(Oe.jsx)(Gt.a,{position:"start",children:"$"}),name:"vCargo",value:void 0===C?-1:C.vCargo,onChange:B}),!R&&Object(Oe.jsx)(Ht.a,{disabled:!0,id:"value",startAdornment:Object(Oe.jsx)(Gt.a,{position:"start",children:"$"}),name:"vCargo",value:void 0===C?-1:new Intl.NumberFormat("en-US",{style:"decimal",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(C.vCargo))})]}),Object(Oe.jsxs)(Xe.a,{className:t.selectControl,children:[Object(Oe.jsx)(Qe.a,{id:"title",children:"Deductible "}),Object(Oe.jsxs)(Ke.a,{disabled:!R,labelId:"title",displayEmpty:!0,name:"dCargo",value:void 0===C?-1:C.dCargo,onChange:B,children:[Object(Oe.jsx)(et.a,{value:-1,children:"Select an option"}),Object(Oe.jsx)(et.a,{value:0,children:"N/A"}),Object(Oe.jsx)(et.a,{value:1e3,children:"$1,000"}),Object(Oe.jsx)(et.a,{value:2500,children:"$2,500"}),Object(Oe.jsx)(et.a,{value:5e3,children:"$5,000"})]})]})]})]}),Object(Oe.jsxs)(h.a,{style:{display:"flex",flexDirection:"column"},children:[Object(Oe.jsxs)(h.a,{style:{paddingTop:8},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"General Liability"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(h.a,{style:{flex:"100%",display:"flex",justifyContent:"space-between",marginBottom:15},children:[Object(Oe.jsxs)(Xe.a,{fullWidth:!0,className:t.textSingned,children:[Object(Oe.jsx)(Qe.a,{htmlFor:"value",children:"Value"}),R&&Object(Oe.jsx)(Ht.a,{id:"value",type:"number",startAdornment:Object(Oe.jsx)(Gt.a,{position:"start",children:"$"}),name:"vGeneral",value:void 0===C?-1:C.vGeneral,onChange:B}),!R&&Object(Oe.jsx)(Ht.a,{disabled:!0,id:"value",startAdornment:Object(Oe.jsx)(Gt.a,{position:"start",children:"$"}),name:"vGeneral",value:void 0===C?-1:new Intl.NumberFormat("en-US",{style:"decimal",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(C.vGeneral))})]}),Object(Oe.jsxs)(Xe.a,{className:t.selectControl,children:[Object(Oe.jsx)(Qe.a,{id:"title",children:"Deductible "}),Object(Oe.jsxs)(Ke.a,{disabled:!R,labelId:"title",displayEmpty:!0,name:"dGeneral",value:void 0===C?-1:C.dGeneral,onChange:B,children:[Object(Oe.jsx)(et.a,{value:-1,children:"Select an option"}),Object(Oe.jsx)(et.a,{value:0,children:"N/A"}),Object(Oe.jsx)(et.a,{value:1e3,children:"$1,000"}),Object(Oe.jsx)(et.a,{value:2500,children:"$2,500"}),Object(Oe.jsx)(et.a,{value:5e3,children:"$5,000"})]})]})]})]})]})]})}var zt=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.VEHICLES N".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:for(a=r.vehicles,n=[],c=0;c<a.length;c++)i={id:a[c][0],make:a[c][2],year:a[c][3],gvw:a[c][4],vin:a[c][5],model:a[c][6],valueLabel:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(a[c][7])),deductibleLabel:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(a[c][8])),value:Number(a[c][7]),deductible:Number(a[c][8])},n.push(i);return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),_t=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.NEW VEHICLES N".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.NEW VEHICLES N".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),qt=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.UPDATE VEHICLEN".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();function Zt(e){var t=n.a.useState(!1),r=Object(p.a)(t,2),a=r[0],c=r[1],i=n.a.useState({id:0,make:"",year:"",gvw:"",vin:"",model:"",value:0,deductible:0}),o=Object(p.a)(i,2),s=o[0],l=o[1];n.a.useEffect((function(){a||(c(!0),b())}));var b=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l(Object(it.a)({},e.vehicle));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(Object(it.a)(Object(it.a)({},s),{},Object(ct.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if([s.make,s.year,s.gvw,s.vin,s.model].every(Boolean)){t.next=3;break}return alert("All parameters are required"),t.abrupt("return");case 3:if(17===s.vin.length){t.next=6;break}return alert("VIN is missing characters"),t.abrupt("return");case 6:return t.next=8,window.confirm("The information will be updated. \nDo you want to proceed?");case 8:if(t.sent){t.next=11;break}return t.abrupt("return");case 11:return t.prev=11,t.next=14,qt(s);case 14:r=t.sent,t.next=20;break;case 17:t.prev=17,t.t0=t.catch(11),r=void 0;case 20:if(void 0!==r){t.next=23;break}return alert("Error while updating information. Please, try again"),t.abrupt("return");case 23:alert(r.msg),r.success&&e.onSuccess();case 25:case"end":return t.stop()}}),t,null,[[11,17]])})));return function(){return t.apply(this,arguments)}}();return Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"40%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"EDIT VEHICLE"})})}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Make",variant:"filled",name:"make",value:s.make,onChange:f}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Year",type:"number",variant:"filled",name:"year",value:s.year,onChange:f}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"G.V.W.",variant:"filled",name:"gvw",value:s.gvw,onChange:f}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},inputProps:{maxLength:17},label:"VIN",variant:"filled",name:"vin",value:s.vin,onChange:f}),Object(Oe.jsxs)(Xe.a,{variant:"filled",style:{marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Qe.a,{id:"model",children:"Model"}),Object(Oe.jsxs)(Ke.a,{labelId:"model",name:"model",value:s.model,onChange:f,children:[Object(Oe.jsx)(et.a,{value:"Tractor",children:"Tractor"}),Object(Oe.jsx)(et.a,{value:"Trailer",children:"Trailer"}),Object(Oe.jsx)(et.a,{value:"Non Owned",children:"Non-Owned"}),Object(Oe.jsx)(et.a,{value:"Interchange",children:"Interchange"})]})]}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Value",type:"number",variant:"filled",name:"value",value:s.value,onChange:f}),Object(Oe.jsxs)(Xe.a,{variant:"filled",style:{marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Qe.a,{id:"ded",children:"Deductible"}),Object(Oe.jsxs)(Ke.a,{labelId:"ded",name:"deductible",value:s.deductible,onChange:f,children:[Object(Oe.jsx)(et.a,{value:1e3,children:"$1,000"}),Object(Oe.jsx)(et.a,{value:2500,children:"$2,500"}),Object(Oe.jsx)(et.a,{value:5e3,children:"$5,000"})]})]}),Object(Oe.jsxs)(h.a,{children:[Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#FF1111",color:"#FFFFFF"},onClick:e.onCancel,children:"Cancel"}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:j,children:"Update"})]})]})}var $t=Object(Se.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},fieldSpacing:{marginRight:20,width:"30%"},fieldSpacingB:{marginRight:20,width:"22%"},containerRoot:{display:"flex",marginTop:25,marginBottom:40,flexDirection:"column",overflow:"scrollable"},grid:{},gridHeader:{color:"#FFFFFF",backgroundColor:"#3973E5"}}}));function Jt(e){var t=$t(),r=n.a.useState(!0),a=Object(p.a)(r,2),c=a[0],i=a[1],o=n.a.useState(!1),s=Object(p.a)(o,2),l=s[0],b=s[1],f=n.a.useState([]),j=Object(p.a)(f,2),C=j[0],w=j[1],k=n.a.useState([]),F=Object(p.a)(k,2),E=F[0],N=F[1],S=n.a.useState(!1),T=Object(p.a)(S,2),R=T[0],L=T[1],A=n.a.useState(""),D=Object(p.a)(A,2),I=D[0],P=D[1],B=n.a.useState(""),M=Object(p.a)(B,2),U=M[0],H=M[1],G=n.a.useState(""),V=Object(p.a)(G,2),W=V[0],z=V[1],_=n.a.useState(""),Y=Object(p.a)(_,2),q=Y[0],Z=Y[1],$=n.a.useState(0),J=Object(p.a)($,2),K=J[0],X=J[1],Q=n.a.useState(""),ee=Object(p.a)(Q,2),te=ee[0],re=ee[1],ae=n.a.useState(0),ne=Object(p.a)(ae,2),ce=ne[0],ie=ne[1],oe=n.a.useState(!1),se=Object(p.a)(oe,2),le=se[0],ue=se[1],de=n.a.useState(void 0),pe=Object(p.a)(de,2),be=pe[0],fe=pe[1];n.a.useEffect((function(){c&&je()})),n.a.useEffect((function(){!1===R&&me()}),[R]),n.a.useEffect((function(){ue(void 0!==be)}),[be]);var je=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,zt(e.cid);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:if(void 0!==r){t.next=12;break}return b(!0),t.abrupt("return");case 12:w(r),N(r),i(!1);case 15:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),he=function(){var t=Object(d.a)(u.a.mark((function t(){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if([I,U,W,q,te].every(Boolean)){t.next=3;break}return alert("All parameters are required."),t.abrupt("return");case 3:if(K!==Number(0)){t.next=6;break}return alert("Must select an option for MODEL"),t.abrupt("return");case 6:return r={cid:e.cid,make:I,year:U,gvw:W,vin:q,model:K,value:Number(te),deductible:Number(ce)},console.log(r),t.prev=8,t.next=11,_t(r);case 11:a=t.sent,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),a=void 0;case 17:if(void 0!==a){t.next=20;break}return alert("Ups... Something went wrong while creating the vehicle. Please, try again"),t.abrupt("return");case 20:alert("Vehicle created successfully!"),ve(),me();case 23:case"end":return t.stop()}}),t,null,[[8,14]])})));return function(){return t.apply(this,arguments)}}(),xe=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The selected Vehicle will be deleted. \nDo you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return r={id:t},e.prev=6,e.next=9,Yt(r);case 9:a=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),a=void 0;case 15:if(void 0!==a){e.next=18;break}return alert("Ups... Something went wrong while removing the vehicle. Please, try again"),e.abrupt("return");case 18:alert("Vehicle removed succcessfully"),ve();case 20:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,zt(e.cid);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:if(void 0!==r){t.next=12;break}return b(!0),t.abrupt("return");case 12:w(r),N(r);case 14:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),me=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(""),P(""),H(""),z(""),Z(""),X(0),re(""),ie(0),L(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=C.find((function(e){return e.id===t})),fe(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The progress will be lost. \nDo you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:fe(void 0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fe(void 0),ve();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:t.root,children:Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"CLIENT VEHICLES"})})})}),c&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:500},children:[!l&&Object(Oe.jsx)(Ae.a,{style:{color:"#3973E5"}}),Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5"},children:l?"Someting whent wrong, try again later...":"Loading Vehicles information..."})]})}),Object(Oe.jsxs)(g.a,{className:t.containerRoot,style:{visibility:!0===c?"hidden":"visible"},children:[Object(Oe.jsx)(h.a,{children:Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5",flex:1},children:"REGISTERED VEHICLES"})}),Object(Oe.jsx)(Le.a,{}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"flex-end"},children:[Object(Oe.jsx)(lt,{onUpdate:w,original:E,fields:["make","year","vin","gvw","model"],color:"#3973E5"}),Object(Oe.jsxs)(Je.a,{"aria-label":"NEW",style:{color:"#3973E5",fontSize:15},onClick:function(){return L(!0)},children:["New Vehicle ",Object(Oe.jsx)(qe.a,{fontSize:"large"})]})]}),Object(Oe.jsx)("div",{style:{height:500,width:"100%"},children:Object(Oe.jsx)(We.a,{style:{backgroundColor:"#FF0000"},columns:[{field:"make",headerName:"MAKE",headerClassName:t.gridHeader,flex:1},{field:"year",headerName:"YEAR",headerClassName:t.gridHeader,flex:.5},{field:"gvw",headerName:"G.V.W.",headerClassName:t.gridHeader,flex:.5},{field:"vin",headerName:"VIN",headerClassName:t.gridHeader,flex:1},{field:"model",headerName:"MODEL",headerClassName:t.gridHeader,flex:.5},{field:"valueLabel",headerName:"VALUE",headerClassName:t.gridHeader,flex:.8},{field:"deductibleLabel",headerName:"DEDUCTIBLE",headerClassName:t.gridHeader,flex:.7},{field:"action",headerName:"ACTIONS",headerClassName:t.gridHeader,flex:.55,sortable:!1,valueGetter:function(e){return e.getValue(e.id,"id")},renderCell:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-evenly",width:"100%"},children:[Object(Oe.jsx)(Je.a,{"aria-label":"DELETE",component:"span",style:{color:"#FF0000",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return xe(e.value)},children:Object(Oe.jsx)(_e.a,{})}),Object(Oe.jsx)(Je.a,{"aria-label":"EDIT",component:"span",style:{color:"#73E600",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return ge(e.value)},children:Object(Oe.jsx)($e.a,{})})]})})}}],rows:C,pageSize:7,disableColumnMenu:!0})})]}),Object(Oe.jsx)(He.a,{open:R,onClose:function(){return L(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"40%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"NEW VEHICLE"})})}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Make",variant:"filled",value:I,onChange:function(e){return P(e.target.value)}}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Year",type:"number",variant:"filled",value:U,onChange:function(e){return H(e.target.value)}}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"G.V.W.",variant:"filled",value:W,onChange:function(e){return z(e.target.value)}}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},inputProps:{maxLength:17},label:"VIN",variant:"filled",value:q,onChange:function(e){return Z(e.target.value)}}),Object(Oe.jsxs)(Xe.a,{variant:"filled",style:{marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Qe.a,{id:"model",children:"Model"}),Object(Oe.jsxs)(Ke.a,{labelId:"model",value:K,onChange:function(e){return X(e.target.value)},children:[Object(Oe.jsx)(et.a,{value:0,children:"Select one option"}),Object(Oe.jsx)(et.a,{value:"Tractor",children:"Tractor"}),Object(Oe.jsx)(et.a,{value:"Trailer",children:"Trailer"}),Object(Oe.jsx)(et.a,{value:"Non Owned",children:"Non-Owned"}),Object(Oe.jsx)(et.a,{value:"Interchange",children:"Interchange"})]})]}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Value",type:"number",variant:"filled",value:te,onChange:function(e){return re(e.target.value)}}),Object(Oe.jsxs)(Xe.a,{variant:"filled",style:{marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Qe.a,{id:"ded",children:"Deductible"}),Object(Oe.jsxs)(Ke.a,{labelId:"ded",value:ce,onChange:function(e){return ie(e.target.value)},children:[Object(Oe.jsx)(et.a,{value:0,children:"N/A"}),Object(Oe.jsx)(et.a,{value:1e3,children:"$1,000"}),Object(Oe.jsx)(et.a,{value:2500,children:"$2,500"}),Object(Oe.jsx)(et.a,{value:5e3,children:"$5,000"})]})]}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:he,children:"Create Vehicle"})]})}),Object(Oe.jsx)(He.a,{open:le,onClose:ye,children:Object(Oe.jsx)(Zt,{onCancel:ye,onSuccess:Ce,vehicle:be})})]})}r(150);var Kt=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.DRIVERS N".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:for(a=r.drivers,n=[],c=0;c<a.length;c++)i={id:a[c][0],name:a[c][2],licence:a[c][3],state:a[c][4],dob:a[c][5],doh:a[c][6],dobLabel:kt(a[c][5]),dohLabel:kt(a[c][6]),exp:a[c][7]},n.push(i);return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Xt=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.NEW DRIVER N".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.REMOVE DRIVER N".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),er=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.UPDATE DRIVER N".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();function tr(e){var t=n.a.useState(!1),r=Object(p.a)(t,2),a=r[0],c=r[1],i=n.a.useState({id:0,name:"",licence:"",state:"",dob:"",doh:"",exp:""}),o=Object(p.a)(i,2),s=o[0],l=o[1];n.a.useEffect((function(){a||(c(!0),b())}));var b=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l(Object(it.a)({},e.driver));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(Object(it.a)(Object(it.a)({},s),{},Object(ct.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if([s.name,s.licence,s.state,s.dob,s.doh,s.exp].every(Boolean)){t.next=3;break}return alert("All parameters are required"),t.abrupt("return");case 3:return t.next=5,window.confirm("The information will be updated. \nDo you want to proceed?");case 5:if(t.sent){t.next=8;break}return t.abrupt("return");case 8:return t.prev=8,t.next=11,er(s);case 11:r=t.sent,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),r=void 0;case 17:if(void 0!==r){t.next=20;break}return alert("Error while updating information. Please, try again"),t.abrupt("return");case 20:alert(r.msg),r.success&&e.onSuccess();case 22:case"end":return t.stop()}}),t,null,[[8,14]])})));return function(){return t.apply(this,arguments)}}();return Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"40%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"EDIT DRIVER"})})}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Driver Name",variant:"filled",name:"name",value:s.name,onChange:f}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Driving Exp.",variant:"filled",name:"exp",value:s.exp,onChange:f}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Driving Licence",variant:"filled",name:"licence",value:s.licence,onChange:f}),Object(Oe.jsxs)(Xe.a,{variant:"filled",style:{marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Qe.a,{id:"state",children:"State"}),Object(Oe.jsxs)(Ke.a,{labelId:"state",name:"state",value:s.state,onChange:f,children:[Object(Oe.jsx)(et.a,{value:"CA",children:"CA - California"}),Object(Oe.jsx)(et.a,{value:"AZ",children:"AZ- Arizona"}),Object(Oe.jsx)(et.a,{value:"NV",children:"NV - Nevada"}),Object(Oe.jsx)(et.a,{value:"OTHER",children:"Other"})]})]}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},variant:"filled",label:"Date of Birth",type:"date",defaultValue:"1900-01-01",InputLabelProps:{shrink:!0},name:"dob",value:s.dob,onChange:f}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},variant:"filled",label:"Date of Hire",type:"date",defaultValue:"1900-01-01",InputLabelProps:{shrink:!0},name:"doh",value:s.doh,onChange:f}),Object(Oe.jsxs)(h.a,{children:[Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#FF1111",color:"#FFFFFF"},onClick:e.onCancel,children:"CANCEL"}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:j,children:"UPDATE"})]})]})}var rr=Object(Se.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},fieldSpacing:{marginRight:20,width:"30%"},fieldSpacingB:{marginRight:20,width:"22%"},containerRoot:{display:"flex",marginTop:25,marginBottom:40,flexDirection:"column",overflow:"scrollable"},grid:{},gridHeader:{color:"#FFFFFF",backgroundColor:"#3973E5"}}}));function ar(e){var t=rr(),r=n.a.useState(!1),a=Object(p.a)(r,2),c=a[0],i=a[1],o=n.a.useState(0),s=Object(p.a)(o,2),l=(s[0],s[1],n.a.useState(!0)),b=Object(p.a)(l,2),f=b[0],j=b[1],C=n.a.useState(!1),w=Object(p.a)(C,2),k=w[0],F=w[1],E=n.a.useState([]),N=Object(p.a)(E,2),S=N[0],T=N[1],R=n.a.useState([]),L=Object(p.a)(R,2),A=L[0],D=L[1],I=n.a.useState(""),P=Object(p.a)(I,2),B=P[0],M=P[1],U=n.a.useState(""),H=Object(p.a)(U,2),G=H[0],V=H[1],W=n.a.useState(""),z=Object(p.a)(W,2),_=z[0],Y=z[1],q=n.a.useState(0),Z=Object(p.a)(q,2),$=Z[0],J=Z[1],K=n.a.useState(""),X=Object(p.a)(K,2),Q=X[0],ee=X[1],te=n.a.useState(""),re=Object(p.a)(te,2),ae=re[0],ne=re[1],ce=n.a.useState(new Date),ie=Object(p.a)(ce,2),oe=(ie[0],ie[1],n.a.useState(0)),se=Object(p.a)(oe,2),le=(se[0],se[1]),ue=n.a.useState(!1),de=Object(p.a)(ue,2),pe=de[0],be=de[1],fe=n.a.useState(void 0),je=Object(p.a)(fe,2),he=je[0],xe=je[1];n.a.useEffect((function(){f&&ve()})),n.a.useEffect((function(){!1===c&&Ce()}),[c]),n.a.useEffect((function(){be(void 0!==he)}),[he]);var ve=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt(e.cid);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:if(void 0!==r){t.next=12;break}return F(!0),t.abrupt("return");case 12:T(r),D(r),j(!1);case 15:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),me=function(){var t=Object(d.a)(u.a.mark((function t(){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if([B,_,G,Q,ae].every(Boolean)){t.next=3;break}return alert("All parameters are required"),t.abrupt("return");case 3:if($!==Number(0)){t.next=6;break}return alert("Must select an STATE option"),t.abrupt("return");case 6:return r={cid:e.cid,name:B,licence:_,state:$,dob:Q,doh:ae,exp:G},t.prev=7,t.next=10,Xt(r);case 10:a=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),a=void 0;case 16:if(void 0!==a){t.next=19;break}return alert("Ups... Something went wrong while creating the driver. Please, try again"),t.abrupt("return");case 19:alert("Driver created successfully!"),ye(),Ce();case 22:case"end":return t.stop()}}),t,null,[[7,13]])})));return function(){return t.apply(this,arguments)}}(),ge=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The selected Driver will be deleted. \nDo you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return le(t),r={id:t},e.prev=7,e.next=10,Qt(r);case 10:a=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),a=void 0;case 16:if(void 0!==a){e.next=19;break}return alert("Ups... Something went wrong while removing the driver. Please, try again"),e.abrupt("return");case 19:alert("Driver removed successfully!"),ye(),le(0);case 22:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kt(e.cid);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:if(void 0!==r){t.next=11;break}return t.abrupt("return");case 11:T(r),D(r);case 13:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),Ce=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!1),M(""),V(""),Y(""),ne(""),ee(""),J(0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=S.find((function(e){return e.id===t})),xe(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The progress will be lost. \nDo you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:xe(void 0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ye(),xe(void 0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:t.root,children:Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"CLIENT DRIVERS"})})})}),f&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:500},children:[!k&&Object(Oe.jsx)(Ae.a,{style:{color:"#3973E5"}}),Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5"},children:k?"Someting whent wrong, try again later...":"Loading Drivers information..."})]})}),Object(Oe.jsxs)(g.a,{className:t.containerRoot,style:{visibility:!0===f?"hidden":"visible"},children:[Object(Oe.jsx)(h.a,{children:Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5",flex:1},children:"REGISTERED DRIVERS"})}),Object(Oe.jsx)(Le.a,{}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"flex-end"},children:[Object(Oe.jsx)(lt,{onUpdate:T,original:A,fields:["name","licence","state"],color:"#3973E5"}),Object(Oe.jsxs)(Je.a,{"aria-label":"NEW",style:{color:"#3973E5",fontSize:15},onClick:function(){return i(!0)},children:["New Driver ",Object(Oe.jsx)(qe.a,{fontSize:"large"})]})]}),Object(Oe.jsx)("div",{style:{height:500,width:"100%"},children:Object(Oe.jsx)(We.a,{style:{backgroundColor:"#FF0000"},columns:[{field:"id",headerName:"ID",headerClassName:t.gridHeader,flex:1,hide:!0},{field:"name",headerName:"NAME",headerClassName:t.gridHeader,flex:1.3},{field:"exp",headerName:"EXP.",headerClassName:t.gridHeader,flex:.7},{field:"licence",headerName:"LICENSE",headerClassName:t.gridHeader,flex:1},{field:"state",headerName:"STATE",headerClassName:t.gridHeader,flex:.5},{field:"dobLabel",headerName:"D.O.B.",headerClassName:t.gridHeader,flex:.7},{field:"dohLabel",headerName:"D.O.H.",headerClassName:t.gridHeader,flex:.7},{field:"action",headerName:"ACTIONS",headerClassName:t.gridHeader,flex:.7,sortable:!1,valueGetter:function(e){return e.getValue(e.id,"id")},renderCell:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-evenly",width:"100%"},children:[Object(Oe.jsx)(Je.a,{"aria-label":"DELETE",component:"span",style:{color:"#FF0000",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return ge(e.value)},children:Object(Oe.jsx)(_e.a,{})}),Object(Oe.jsx)(Je.a,{"aria-label":"EDIT",component:"span",style:{color:"#73E600",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return we(e.value)},children:Object(Oe.jsx)($e.a,{})})]})})}}],rows:S,pageSize:7,disableColumnMenu:!0})})]}),Object(Oe.jsx)(He.a,{open:c,onClose:function(){return i(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"40%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"NEW DRIVER"})})}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Driver Name",variant:"filled",value:B,onChange:function(e){return M(e.target.value)}}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Driving Exp.",variant:"filled",value:G,onChange:function(e){return V(e.target.value)}}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Driving Licence",variant:"filled",value:_,onChange:function(e){return Y(e.target.value)}}),Object(Oe.jsxs)(Xe.a,{variant:"filled",style:{marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Qe.a,{id:"state",children:"State"}),Object(Oe.jsxs)(Ke.a,{labelId:"state",value:$,onChange:function(e){return J(e.target.value)},children:[Object(Oe.jsx)(et.a,{value:0,children:"Select one option"}),Object(Oe.jsx)(et.a,{value:"CA",children:"CA - California"}),Object(Oe.jsx)(et.a,{value:"AZ",children:"AZ- Arizona"}),Object(Oe.jsx)(et.a,{value:"NV",children:"NV - Nevada"}),Object(Oe.jsx)(et.a,{value:"OTHER",children:"Other"})]})]}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},variant:"filled",label:"Date of Birth",type:"date",defaultValue:"1900-01-01",InputLabelProps:{shrink:!0},value:Q,onChange:function(e){return ee(e.target.value)}}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},variant:"filled",label:"Date of Hire",type:"date",defaultValue:"1900-01-01",InputLabelProps:{shrink:!0},value:ae,onChange:function(e){return ne(e.target.value)}}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:me,children:"Create Driver"})]})}),Object(Oe.jsx)(He.a,{open:pe,onClose:ke,children:Object(Oe.jsx)(tr,{onCancel:ke,onSuccess:Fe,driver:he})})]})}var nr=r(214),cr=r(168),ir=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n,c,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.POLICIES N".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:for(a=r.policies,n=[],c=0;c<a.length;c++)i=a[c][6].split(","),o={id:a[c][0],company:a[c][2],number:a[c][3],from:a[c][4],to:a[c][5],fromLabel:kt(a[c][4]),toLabel:kt(a[c][5]),covers:i,niac:a[c][8]},n.push(o);return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),or=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.NEW POLICY N".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),sr=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.REMOVE POLICY N".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),lr=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CLIENT.UPDATE POLICY N".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ur={liability:"Liability",cargo:"Cargo",general:"Gral. Liability",damage:"P.Damage",interchange:"Trailer Interchange",non:"Non owned Trailer",unisured:"Unisured Motorist"};function dr(e){var t=n.a.useState(!1),r=Object(p.a)(t,2),a=r[0],c=r[1],i=n.a.useState({id:0,company:"",number:"",from:"",to:"",covers:"",niac:""}),o=Object(p.a)(i,2),s=o[0],l=o[1],b=n.a.useState({liability:!0,cargo:!0,general:!0,damage:!0,interchange:!0,non:!0,unisured:!0}),f=Object(p.a)(b,2),j=f[0],g=f[1],C=n.a.useState({liability:!1,cargo:!1,general:!1,damage:!1,interchange:!1,non:!1,unisured:!1}),w=Object(p.a)(C,2),k=w[0],F=w[1],E=k.liability,N=k.cargo,S=k.general,T=k.damage,R=k.interchange,L=k.non,A=k.unisured;n.a.useEffect((function(){a||(c(!0),D())}));var D=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l(Object(it.a)({},e.policy)),I();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Object(it.a)({},e.aviable),e.policy.covers.forEach((function(e){var t=Object.keys(ur).find((function(t){return ur[t]===e}));r[t]=!0})),g(Object(it.a)({},r));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(Object(it.a)(Object(it.a)({},s),{},Object(ct.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){F(Object(it.a)(Object(it.a)({},k),{},Object(ct.a)({},e.target.name,e.target.checked)))},M=function(){var e=Object(d.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in t="",k)k[r]&&(t+="".concat(ur[r],","));return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var t=Object(d.a)(u.a.mark((function t(){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M();case 2:if(""!==(r=t.sent)){t.next=6;break}return alert("One coverage must be selected at least"),t.abrupt("return");case 6:if([s.company,s.number,s.from,s.to].every(Boolean)){t.next=9;break}return alert("Missing parameters"),t.abrupt("return");case 9:return t.next=11,window.confirm("The information will be updated. \nDo you want to proceed?");case 11:if(t.sent){t.next=14;break}return t.abrupt("return");case 14:return s.covers=r,t.prev=15,t.next=18,lr(s);case 18:a=t.sent,t.next=24;break;case 21:t.prev=21,t.t0=t.catch(15),a=void 0;case 24:if(void 0!==a){t.next=27;break}return alert("Error while updating. Please, try again"),t.abrupt("return");case 27:alert(a.msg),a.success&&e.onSuccess();case 29:case"end":return t.stop()}}),t,null,[[15,21]])})));return function(){return t.apply(this,arguments)}}();return Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"5%",left:"40%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"EDIT POLICY"})})}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Company Name",variant:"filled",name:"company",value:s.company,onChange:P}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Company NAIC. *Optional",variant:"filled",name:"niac",value:s.niac,onChange:P}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Policy Number",variant:"filled",name:"number",value:s.number,onChange:P}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},variant:"filled",label:"Effective Date",type:"date",defaultValue:"1900-01-01",InputLabelProps:{shrink:!0},name:"from",value:s.from,onChange:P}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},variant:"filled",label:"Expiration Date",type:"date",defaultValue:"1900-01-01",InputLabelProps:{shrink:!0},name:"to",value:s.to,onChange:P}),Object(Oe.jsxs)(h.a,{style:{marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5",flex:1},children:"Policy Coverages"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(nr.a,{row:!0,style:{marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:!j.liability,name:"liability",color:"primary",checked:E,onChange:B}),label:"Liability"}),Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:!j.cargo,name:"cargo",color:"primary",checked:N,onChange:B}),label:"Cargo"}),Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:!j.general,name:"general",color:"primary",checked:S,onChange:B}),label:"Gral. Liability"})]}),Object(Oe.jsxs)(nr.a,{row:!0,style:{marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:!j.damage,name:"damage",color:"primary",checked:T,onChange:B}),label:"P. Damage"}),Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:!j.interchange,name:"interchange",color:"primary",checked:R,onChange:B}),label:"T. Interchange"})]}),Object(Oe.jsxs)(nr.a,{row:!0,style:{marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:!j.non,name:"non",color:"primary",checked:L,onChange:B}),label:"T. Non-owned"}),Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:!j.unisured,name:"unisured",color:"primary",checked:A,onChange:B}),label:"Unisured Motorist"})]}),Object(Oe.jsxs)(h.a,{children:[Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#FF1111",color:"#FFFFFF"},onClick:e.onCancel,children:"Cancel"}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:U,children:"Update"})]})]})}var pr=Object(Se.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},fieldSpacing:{marginRight:20,width:"30%"},fieldSpacingB:{marginRight:20,width:"22%"},containerRoot:{display:"flex",marginTop:25,marginBottom:40,flexDirection:"column",overflow:"scrollable"},grid:{},gridHeader:{color:"#FFFFFF",backgroundColor:"#3973E5"}}}));function br(e){var t=pr(),r=n.a.useState(!1),a=Object(p.a)(r,2),c=a[0],i=a[1],o=n.a.useState(!0),s=Object(p.a)(o,2),l=s[0],b=s[1],f=n.a.useState(!1),j=Object(p.a)(f,2),C=j[0],w=j[1],k=n.a.useState([]),F=Object(p.a)(k,2),E=F[0],N=F[1],S=n.a.useState([]),T=Object(p.a)(S,2),R=T[0],L=T[1],A=n.a.useState(""),D=Object(p.a)(A,2),I=D[0],P=D[1],B=n.a.useState(""),M=Object(p.a)(B,2),U=M[0],H=M[1],G=n.a.useState(""),V=Object(p.a)(G,2),W=V[0],z=V[1],_=n.a.useState(""),Y=Object(p.a)(_,2),q=Y[0],Z=Y[1],$=n.a.useState(""),J=Object(p.a)($,2),K=J[0],X=J[1],Q=n.a.useState({liability:!1,cargo:!1,general:!1,damage:!1,interchange:!1,non:!1,unisured:!1}),ee=Object(p.a)(Q,2),te=ee[0],re=ee[1],ae=n.a.useState({liability:!0,cargo:!0,general:!0,damage:!0,interchange:!0,non:!0,unisured:!0}),ne=Object(p.a)(ae,2),ce=ne[0],ie=ne[1],oe=te.liability,se=te.cargo,le=te.general,ue=te.damage,de=te.interchange,pe=te.non,be=te.unisured,fe=n.a.useState(!1),je=Object(p.a)(fe,2),he=je[0],xe=je[1],ve=n.a.useState(void 0),me=Object(p.a)(ve,2),ge=me[0],ye=me[1];n.a.useEffect((function(){l&&we()})),n.a.useEffect((function(){!1===c&&Ne()}),[c]),n.a.useEffect((function(){Se()}),[E]),n.a.useEffect((function(){xe(void 0!==ge)}),[ge]);var Ce=function(e){re(Object(it.a)(Object(it.a)({},te),{},Object(ct.a)({},e.target.name,e.target.checked)))},we=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ir(e.cid);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:if(void 0!==r){t.next=12;break}return w(!0),t.abrupt("return");case 12:N(r),L(r),b(!1);case 15:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),ke=function(){var t=Object(d.a)(u.a.mark((function t(){var r,a,n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if([I,W,U,q,K].every(Boolean)){t.next=3;break}return alert("All parameters are required"),t.abrupt("return");case 3:if(r="",a=!1,!0===oe&&(r+="Liability,",a=!0),!0===se&&(r+="Cargo,",a=!0),!0===le&&(r+="Gral. Liability,",a=!0),!0===ue&&(r+="P.Damage,",a=!0),!0===de&&(r+="Trailer Interchange,",a=!0),!0===pe&&(r+="Non owned Trailer,",a=!0),!0===be&&(r+="Unisured Motorist",a=!0),!1!==a){t.next=15;break}return alert("Must select at least one option for COVERAGE"),t.abrupt("return");case 15:return n={cid:e.cid,name:I,number:W,naic:U,from:q,to:K,covers:r},console.log(n),t.prev=17,t.next=20,or(n);case 20:c=t.sent,t.next=26;break;case 23:t.prev=23,t.t0=t.catch(17),c=void 0;case 26:if(void 0!==c){t.next=29;break}return alert("Ups... Something went wrong while creating the policy. Please, try again"),t.abrupt("return");case 29:alert("Policy created successfully!"),Ee(),i(!1);case 32:case"end":return t.stop()}}),t,null,[[17,23]])})));return function(){return t.apply(this,arguments)}}(),Fe=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The selected Policy will be deleted. \nDo you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return r={id:t},e.prev=6,e.next=9,sr(r);case 9:a=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),a=void 0;case 15:if(void 0!==a){e.next=18;break}return alert("Ups... Something went wrong while removing the policy. Please, try again"),e.abrupt("return");case 18:alert("Policy removed successfully!"),Ee();case 20:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ir(e.cid);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:if(void 0!==r){t.next=12;break}return w(!0),t.abrupt("return");case 12:N(r),L(r);case 14:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),Ne=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(""),H(""),z(""),Z(""),X(""),re({liability:!1,cargo:!1,general:!1,damage:!1,interchange:!1,non:!1,unisured:!1});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(d.a)(u.a.mark((function e(){var t,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t={liability:!0,cargo:!0,general:!0,damage:!0,interchange:!0,non:!0,unisured:!0},r=0;r<E.length;r++)a=E[r].covers,!0===t.liability&&(t.liability=!a.includes("Liability")),!0===t.cargo&&(t.cargo=!a.includes("Cargo")),!0===t.general&&(t.general=!a.includes("Gral. Liability")),!0===t.damage&&(t.damage=!a.includes("Damage")),!0===t.interchange&&(t.interchange=!a.includes("Trailer Interchange")),!0===t.non&&(t.non=!a.includes("Non Owned Trailer")),!0===t.unisured&&(t.unisured=!a.includes("Unisured Motorist"));ie(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=E.find((function(e){return e.id===t})),ye(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The progress will be lost. \nDo you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:ye(void 0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ee(),ye(void 0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:t.root,children:Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"CLIENT POLICIES"})})})}),l&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:500},children:[!C&&Object(Oe.jsx)(Ae.a,{style:{color:"#3973E5"}}),Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5"},children:C?"Someting whent wrong, try again later...":"Loading Policies information..."})]})}),Object(Oe.jsxs)(g.a,{className:t.containerRoot,style:{visibility:!0===l?"hidden":"visible"},children:[Object(Oe.jsx)(h.a,{children:Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5",flex:1},children:"REGISTERED POLICIES"})}),Object(Oe.jsx)(Le.a,{}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"flex-end"},children:[Object(Oe.jsx)(lt,{onUpdate:N,original:R,fields:["company","number","covers"],color:"#3973E5"}),Object(Oe.jsxs)(Je.a,{"aria-label":"NEW",style:{color:"#3973E5",fontSize:15},onClick:function(){return i(!0)},children:["New Policy ",Object(Oe.jsx)(qe.a,{fontSize:"large"})]})]}),Object(Oe.jsx)("div",{style:{height:500,width:"100%"},children:Object(Oe.jsx)(We.a,{style:{backgroundColor:"#FF0000"},columns:[{field:"id",headerName:"ID",headerClassName:t.gridHeader,flex:1,hide:!0},{field:"company",headerName:"COMPANY",headerClassName:t.gridHeader,flex:1.7},{field:"naic",headerName:"NIAC",headerClassName:t.gridHeader,flex:.75,hide:!0},{field:"number",headerName:"P. NUMBER",headerClassName:t.gridHeader,flex:.75},{field:"fromLabel",headerName:"START",headerClassName:t.gridHeader,flex:.7},{field:"toLabel",headerName:"END",headerClassName:t.gridHeader,flex:.7},{field:"covers",headerName:"COVERAGE",headerClassName:t.gridHeader,flex:2},{field:"action",headerName:"ACTIONS",headerClassName:t.gridHeader,flex:.75,sortable:!1,valueGetter:function(e){return e.getValue(e.id,"id")},renderCell:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-evenly",width:"100%"},children:[Object(Oe.jsx)(Je.a,{"aria-label":"DELETE",component:"span",style:{color:"#FF0000",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return Fe(e.value)},children:Object(Oe.jsx)(_e.a,{})}),Object(Oe.jsx)(Je.a,{"aria-label":"EDIT",component:"span",style:{color:"#73E600",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return Te(e.value)},children:Object(Oe.jsx)($e.a,{})})]})})}}],rows:E,pageSize:7,disableColumnMenu:!0})})]}),Object(Oe.jsx)(He.a,{open:c,onClose:function(){return i(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"5%",left:"40%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"NEW POLICY"})})}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Company Name",variant:"filled",value:I,onChange:function(e){return P(e.target.value)}}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Company NAIC.",variant:"filled",value:U,onChange:function(e){return H(e.target.value)}}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Policy Number",variant:"filled",value:W,onChange:function(e){return z(e.target.value)}}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},variant:"filled",label:"Effective Date",type:"date",defaultValue:"1900-01-01",InputLabelProps:{shrink:!0},value:q,onChange:function(e){return Z(e.target.value)}}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},variant:"filled",label:"Expiration Date",type:"date",defaultValue:"1900-01-01",InputLabelProps:{shrink:!0},value:K,onChange:function(e){return X(e.target.value)}}),Object(Oe.jsxs)(h.a,{style:{marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5",flex:1},children:"Policy Coverages"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(nr.a,{row:!0,style:{marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:!ce.liability,name:"liability",color:"primary",checked:oe,onChange:Ce}),label:"Liability"}),Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:!ce.cargo,name:"cargo",color:"primary",checked:se,onChange:Ce}),label:"Cargo"}),Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:!ce.general,name:"general",color:"primary",checked:le,onChange:Ce}),label:"Gral. Liability"})]}),Object(Oe.jsxs)(nr.a,{row:!0,style:{marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:!ce.damage,name:"damage",color:"primary",checked:ue,onChange:Ce}),label:"P. Damage"}),Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:!ce.interchange,name:"interchange",color:"primary",checked:de,onChange:Ce}),label:"T. Interchange"})]}),Object(Oe.jsxs)(nr.a,{row:!0,style:{marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:!ce.non,name:"non",color:"primary",checked:pe,onChange:Ce}),label:"T. Non-owned"}),Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:!ce.unisured,name:"unisured",color:"primary",checked:be,onChange:Ce}),label:"Unisured Motorist"})]}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:ke,children:"Create Policy"})]})}),Object(Oe.jsx)(He.a,{open:he,onClose:Re,children:Object(Oe.jsx)(dr,{onCancel:Re,onSuccess:De,policy:ge,aviable:ce})})]})}var fr=r(155),jr=r.n(fr),hr=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : DOCUMENT.UPLOAD \n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),xr=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : DOCUMENT.LIST \n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:for(a=r.files,n=[],c=0;c<a.length;c++)i={id:a[c][0],file:a[c][2],name:a[c][3],type:1===Number(a[c][4])?"Aviable":"Not aviable"},n.push(i);return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),vr=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : DOCUMENT.DELETE \n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),mr=r(154),gr=Object(Se.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},fieldSpacing:{marginRight:20,width:"30%"},fieldSpacingB:{marginRight:20,width:"22%"},containerRoot:{display:"flex",marginTop:25,marginBottom:40,flexDirection:"column",overflow:"scrollable"},grid:{},gridHeader:{color:"#FFFFFF",backgroundColor:"#3973E5"}}}));function Or(e){var t=gr(),r=n.a.useState(!1),a=Object(p.a)(r,2),c=a[0],i=a[1],o=n.a.useState(!1),s=Object(p.a)(o,2),l=(s[0],s[1]),b=n.a.useState(""),f=Object(p.a)(b,2),j=f[0],C=f[1],w=n.a.useState(""),k=Object(p.a)(w,2),F=k[0],E=k[1],N=n.a.useState(!1),S=Object(p.a)(N,2),T=S[0],R=S[1],L=n.a.useState(!0),A=Object(p.a)(L,2),D=A[0],I=A[1],P=n.a.useState(!1),B=Object(p.a)(P,2),M=B[0],U=B[1],H=n.a.useState([]),G=Object(p.a)(H,2),V=G[0],W=G[1],z=n.a.useState([]),_=Object(p.a)(z,2),Y=_[0],q=_[1];n.a.useEffect((function(){D&&Z()})),n.a.useEffect((function(){!1===c&&(R(!1),E(""),C(""))}),[c]);var Z=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xr(e.cid);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:if(void 0!==r){t.next=12;break}return U(!0),t.abrupt("return");case 12:W(r),q(r),I(!1);case 15:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),$=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if([F,j].every(Boolean)){t.next=3;break}return alert("All parameters are required. Please, verify information"),t.abrupt("return");case 3:return(r=new FormData).append("file",j),r.append("cid",e.cid),r.append("name",F),r.append("type",!0===T?1:0),l(!0),t.prev=9,t.next=12,hr(r);case 12:t.sent,t.next=20;break;case 15:return t.prev=15,t.t0=t.catch(9),alert("Ups... Something went wrong while uploading the file. Please, try again"),l(!1),t.abrupt("return");case 20:alert("File uploaded successfully!"),l(!1),i(!1),K();case 24:case"end":return t.stop()}}),t,null,[[9,15]])})));return function(){return t.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The selected Document will be deleted from the cloud. \nDo you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return r=V.find((function(e){return e.id===t})),(a=new FormData).append("id",r.id),a.append("name",r.file),e.prev=9,e.next=12,vr(a);case 12:n=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),n=void 0;case 18:if(void 0!==n){e.next=21;break}return alert("Ups... Something went wrong while uploading the file. Please, try again"),e.abrupt("return");case 21:alert("File deleted successfully!"),K();case 23:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xr(e.cid);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:if(void 0!==r){t.next=12;break}return U(!0),t.abrupt("return");case 12:W(r),q(r);case 14:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),X=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=V.find((function(e){return e.id===t})),a="https://truckinsurancesolutions.org/system/ready_files/".concat(r.file),n=r.file.split(".")[1],Object(mr.saveAs)(a,"".concat(r.name,".").concat(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:t.root,children:Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"CLIENT DOCUMENTS"})})})}),D&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:500},children:[!M&&Object(Oe.jsx)(Ae.a,{style:{color:"#3973E5"}}),Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5"},children:M?"Someting whent wrong, try again later...":"Loading Cloud information..."})]})}),Object(Oe.jsxs)(g.a,{className:t.containerRoot,style:{visibility:!0===D?"hidden":"visible"},children:[Object(Oe.jsx)(h.a,{children:Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5",flex:1},children:"CLOUD DOCUMENTS"})}),Object(Oe.jsx)(Le.a,{}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"flex-end"},children:[Object(Oe.jsx)(lt,{onUpdate:W,original:Y,fields:["name"],color:"#3973E5"}),Object(Oe.jsxs)(Je.a,{"aria-label":"NEW",style:{color:"#3973E5",fontSize:15},onClick:function(){return i(!0)},children:["Upload File ",Object(Oe.jsx)(qe.a,{fontSize:"large"})]})]}),Object(Oe.jsx)("div",{style:{height:500,width:"100%"},children:Object(Oe.jsx)(We.a,{style:{backgroundColor:"#FF0000"},columns:[{field:"id",headerName:"ID",headerClassName:t.gridHeader,flex:1,hide:!0},{field:"name",headerName:"NAME",headerClassName:t.gridHeader,flex:1},{field:"type",headerName:"CLIENT APP",headerClassName:t.gridHeader,flex:.3},{field:"action",headerName:"ACTIONS",headerClassName:t.gridHeader,flex:.3,sortable:!1,valueGetter:function(e){return e.getValue(e.id,"id")},renderCell:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-evenly",width:"100%"},children:[Object(Oe.jsx)(Je.a,{"aria-label":"DELETE",component:"span",style:{color:"#FF0000",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return J(e.value)},children:Object(Oe.jsx)(_e.a,{})}),Object(Oe.jsx)(Je.a,{"aria-label":"DOWNLOAD",component:"span",style:{color:"#73E600",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return X(e.value)},children:Object(Oe.jsx)(jr.a,{})})]})})}}],rows:V,pageSize:7,disableColumnMenu:!0})})]}),Object(Oe.jsx)(He.a,{open:c,onClose:function(){return i(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"35%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"FILE UPLOAD"})})}),Object(Oe.jsx)("input",{id:"contained-button-file",multiple:!0,type:"file",style:{display:"none"},onChange:function(e){return C(e.target.files[0])}}),Object(Oe.jsx)("label",{htmlFor:"contained-button-file",children:Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:"25%",marginRight:"25%",backgroundColor:""===j?"#EE0000":"#43E900",color:"#FFFFFF",width:"50%",fontWeight:"bold"},component:"span",children:""===j?"SELECT FILE":"FILE SELECTED"})}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"File Description",variant:"filled",value:F,onChange:function(e){return E(e.target.value)}}),Object(Oe.jsx)(Xe.a,{variant:"filled",style:{marginTop:8,marginLeft:15,marginRight:15},children:Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(yt.a,{checked:T,onChange:function(e){return R(e.target.checked)},color:"primary"}),label:"Aviable to Client in App"})}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:$,children:"Upload File"})]})})]})}var yr=r(268),Cr=r(259),wr=r(265),kr=r(121),Fr=r.n(kr),Er=function(){var e=Object(d.a)(u.a.mark((function e(){var t,r,a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:t=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : APPLICATION.AGENTS\n".concat(e.t0)),t=void 0;case 10:if(void 0!==t){e.next=12;break}return e.abrupt("return",void 0);case 12:for(r=t.agents,a=[],n=0;n<r.length;n++)c={id:r[n][0],name:r[n][1],image:r[n][2]},a.push(c);return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Nr=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : APPLICATION.VENDORS\n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:for(a=r.vendors,n=[],c=0;c<a.length;c++)i={id:a[c][0],name:a[c][1],image:a[c][2]},n.push(i);return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Sr=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var a,n,c,i,o,s,l,d,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t,r);case 3:a=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : APPLICATION.TEMPLATES\n".concat(e.t0)),a=void 0;case 10:if(void 0!==a){e.next=12;break}return e.abrupt("return",void 0);case 12:for(n=a.templates,c=[],i=["","Liability","Cargo","Gral. Liability","PD. Tractor","PD. Trailer","PD. Non-owned","PD. T. Interchange"],o=0;o<n.length;o++){for(s=n[o][4].split(","),l=[],d=0;d<s.length;d++)l.push(i[s[d]]);p={id:n[o][0],name:n[o][2],file:n[o][3],covers:s,coversTxt:l},c.push(p)}return e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),Tr=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : APPLICATION.CREATE LINK\n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Rr=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : APPLICATION.CREATE DATA\n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Lr=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : APPLICATION.CREATE PDF\n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ar=r(92),Dr=r(93),Ir=function(){function e(){Object(Ar.a)(this,e),this.readyPromise=new Promise((function(e){window.AdobeDC?e():document.addEventListener("adobe_dc_view_sdk.ready",(function(){e()}))})),this.adobeDCView=void 0}return Object(Dr.a)(e,[{key:"ready",value:function(){return this.readyPromise}},{key:"previewFile",value:function(e,t,r,a){var n={clientId:!0===a?"8c0cd670273d451cbc9b351b11d22318":"ce1b256ee73d40b6ac6186ff685aa6c7"};return e&&(n.divId=e),this.adobeDCView=new window.AdobeDC.View(n),console.log(n),this.adobeDCView.previewFile({content:{location:{url:r}},metaData:{fileName:"PDF File",id:"6d07d124-ac85-43b3-a867-36930f502ac6"}},t)}},{key:"previewFileUsingFilePromise",value:function(e,t,r){this.adobeDCView=new window.AdobeDC.View({clientId:"ce1b256ee73d40b6ac6186ff685aa6c7",divId:e}),this.adobeDCView.previewFile({content:{promise:t},metaData:{fileName:r}},{})}},{key:"registerSaveApiHandler",value:function(){this.adobeDCView.registerCallback(window.AdobeDC.View.Enum.CallbackType.SAVE_API,(function(e,t,r){return console.log(e,t,r),new Promise((function(t){setTimeout((function(){var r={code:window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,data:{metaData:Object.assign(e,{updatedAt:(new Date).getTime()})}};t(r)}),2e3)}))}),{})}},{key:"registerEventsHandler",value:function(){this.adobeDCView.registerCallback(window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,(function(e){console.log(e)}),{enablePDFAnalytics:!0})}}]),e}();function Pr(e){return n.a.useEffect((function(){var t=new Ir;t.ready().then((function(){t.previewFile("pdf-div",{showAnnotationTools:!1},e.file,!1),t.registerSaveApiHandler()}))})),Object(Oe.jsx)("div",{id:"pdf-div",className:"full-window-div"})}function Br(e){var t=n.a.useState(0),r=Object(p.a)(t,2),a=r[0],c=r[1],i=function(){var t=Object(d.a)(u.a.mark((function t(r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=a+r)>e.files.length-1&&(n=0),n<0&&(n=e.files.length-1),c(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center"},children:[Object(Oe.jsxs)(h.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"NAVIGATION"}),Object(Oe.jsxs)(h.a,{style:{display:"flex",direction:"row",padding:8},children:[Object(Oe.jsx)(x.a,{style:{backgroundColor:"#3973E5",color:"#FFFFFF",borderRadius:45},onClick:function(){return i(-1)},children:"<"}),Object(Oe.jsxs)(v.a,{variant:"h6",style:{color:"#3973E5",flex:1,marginLeft:4,marginRight:4},children:["File ",a+1," of ",e.files.length]}),Object(Oe.jsx)(x.a,{style:{backgroundColor:"#3973E5",color:"#FFFFFF",borderRadius:45},onClick:function(){return i(1)},children:">"})]})]}),Object(Oe.jsx)(h.a,{style:{width:"100%",height:750},children:Object(Oe.jsx)(Pr,{file:e.files[a]})})]})})}var Mr=Object(Se.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},fieldSpacing:{marginRight:20,width:"30%"},fieldSpacingB:{marginRight:20,width:"22%"},containerRoot:{display:"flex",marginTop:25,marginBottom:40,flexDirection:"column",overflow:"scrollable"},grid:{},gridHeader:{color:"#FFFFFF",backgroundColor:"#3973E5"}}}));function Ur(e){var t=Mr(),r=n.a.useState(0),a=Object(p.a)(r,2),c=a[0],i=a[1],o=n.a.useState(!0),s=Object(p.a)(o,2),l=s[0],b=s[1],f=n.a.useState(!1),j=Object(p.a)(f,2),m=j[0],C=j[1],w=n.a.useState([]),k=Object(p.a)(w,2),F=k[0],E=k[1],N=n.a.useState(0),S=Object(p.a)(N,2),T=S[0],R=S[1],L=n.a.useState([]),A=Object(p.a)(L,2),D=A[0],I=A[1],P=n.a.useState(0),B=Object(p.a)(P,2),M=B[0],U=B[1],H=n.a.useState([]),G=Object(p.a)(H,2),V=G[0],W=G[1],z=n.a.useState(0),_=Object(p.a)(z,2),Y=_[0],q=_[1],Z=n.a.useState({id:0,files:[]}),$=Object(p.a)(Z,2),J=$[0],K=$[1],X=n.a.useState({liability:!1,cargo:!1,general:!1,tractor:!1,trailer:!1,non:!1,interchange:!1}),Q=Object(p.a)(X,2),ee=Q[0],te=Q[1],re=n.a.useState({liability:!1,cargo:!1,general:!1,tractor:!1,trailer:!1,non:!1,interchange:!1}),ae=Object(p.a)(re,2),ne=ae[0],ce=ae[1],ie=function(e){return e.getValue(e.id,"id")};n.a.useEffect((function(){l&&le()})),n.a.useEffect((function(){0!==T&&ue()}),[T]),n.a.useEffect((function(){0!==M&&de()}),[M]),n.a.useEffect((function(){if(0===Y)return ne.liability=!1,ne.cargo=!1,ne.general=!1,ne.tractor=!1,ne.trailer=!1,ne.non=!1,ne.interchange=!1,void ce(ne);pe()}),[Y]),n.a.useEffect((function(){switch(c){case 0:R(0);break;case 1:U(0);break;case 2:q(0)}}),[c]);var oe=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=c,e.next=0===e.t0?3:1===e.t0?5:2===e.t0?7:4===e.t0?9:11;break;case 3:return R(t),e.abrupt("break",11);case 5:return U(t),e.abrupt("break",11);case 7:return q(t),e.abrupt("break",11);case 9:return b(!1),e.abrupt("break",11);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(c-1),C(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Er();case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t=void 0;case 9:if(void 0!==t){e.next=12;break}return C(!0),e.abrupt("return");case 12:E(t),b(!1);case 14:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,Nr(T);case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=void 0;case 10:if(void 0!==t){e.next=13;break}return C(!0),e.abrupt("return");case 13:I(t),i(1),b(!1);case 16:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,Sr(T,M);case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=void 0;case 10:if(void 0!==t){e.next=13;break}return C(!0),e.abrupt("return");case 13:W(t),i(2),b(!1);case 16:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(d.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0),t=Object(it.a)({},V.find((function(e){return e.id===Y}))),r=t.covers,ee.liability=!r.includes("1"),ee.cargo=!r.includes("2"),ee.general=!r.includes("3"),ee.tractor=!r.includes("4"),ee.trailer=!r.includes("5"),ee.non=!r.includes("6"),ee.interchange=!r.includes("7"),te(ee),i(3),b(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(e){ce(Object(it.a)(Object(it.a)({},ne),{},Object(ct.a)({},e.target.name,e.target.checked)))},fe=function(){var t=Object(d.a)(u.a.mark((function t(){var r,a,n,c,o,s,l,d,p,f,j,h,x,v,m;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o in console.log("Agent:".concat(T," Vendor:").concat(M," Template:").concat(Y," Covers:")),console.log(ne),r=[],a=["","liability","cargo","general","tractor","trailer","non","interchange"],n=[],c=!1,ee)!1===ee[o]&&r.push(ne[o]);if(r.some(Boolean)&&(c=!0),!1!==c){t.next=11;break}return alert("Must select at least one coverge from the aviable options"),t.abrupt("return");case 11:for(s in ne)!0===ne[s]&&n.push(a.indexOf(s));return b(!0),l={cid:e.cid,aid:T,vid:M,lid:Y,covers:n},t.prev=14,t.next=17,Tr(l);case 17:d=t.sent,t.next=23;break;case 20:t.prev=20,t.t0=t.catch(14),d=void 0;case 23:if(void 0!==d){t.next=26;break}return C(!0),t.abrupt("return");case 26:return p={id:d.id},t.prev=27,t.next=30,Rr(p);case 30:f=t.sent,t.next=36;break;case 33:t.prev=33,t.t1=t.catch(27),f=void 0;case 36:if(void 0!==f){t.next=39;break}return C(!0),t.abrupt("return");case 39:return t.next=41,je(f.data);case 41:j=t.sent,h=0;case 43:if(!(h<f.files.length)){t.next=56;break}return x={file:f.files[h],data:j,saved:"app_".concat(d.id,"_").concat(h+1,".pdf")},t.prev=45,t.next=48,Lr(x);case 48:t.sent,t.next=53;break;case 51:t.prev=51,t.t2=t.catch(45);case 53:h++,t.next=43;break;case 56:for(J.files=[],h=0;h<f.files.length;h++)v="app_".concat(d.id,"_").concat(h+1,".pdf"),m="https://www.truckinsurancesolutions.org/system/ready_files/".concat(v),J.files.push(m);J.id=d.id,K(J),i(4);case 61:case"end":return t.stop()}}),t,null,[[14,20],[27,33],[45,51]])})));return function(){return t.apply(this,arguments)}}(),je=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in r=[],t)r.push("".concat(a,"|").concat(t[a]));return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:t.root,children:Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"APPLICATIONS"})})})}),Object(Oe.jsxs)(g.a,{className:t.containerRoot,children:[Object(Oe.jsxs)(h.a,{style:{display:"inline-flex"},children:[Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5",flex:1},children:"CREATE APPLICATION"}),Object(Oe.jsx)(h.a,{style:{display:0===c?"none":"flex",justifyContent:"flex-end",marginBottom:4},children:Object(Oe.jsx)(x.a,{style:{backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:se,children:"STEP BACK"})})]}),Object(Oe.jsx)(Le.a,{}),Object(Oe.jsx)("div",{className:t.root,children:Object(Oe.jsx)(yr.a,{activeStep:c,children:["Select Agent","Select Insurance Company","Select Application","Select Coverages","PDF is Ready!"].map((function(e,t){return Object(Oe.jsx)(Cr.a,Object(it.a)(Object(it.a)({},{}),{},{children:Object(Oe.jsx)(wr.a,Object(it.a)(Object(it.a)({},{}),{},{children:e}))}),e)}))})}),l&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:500},children:[!m&&Object(Oe.jsx)(Ae.a,{style:{color:"#3973E5"}}),Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5"},children:m?"Someting whent wrong, try again later...":"Loading information..."})]})}),0===c&&!l&&Object(Oe.jsx)("div",{style:{height:500,width:"100%"},children:Object(Oe.jsx)(We.a,{style:{backgroundColor:"#FF0000"},columns:[{field:"id",headerName:"ID",headerClassName:t.gridHeader,flex:1,hide:!0},{field:"name",headerName:"NAME",headerClassName:t.gridHeader,flex:1},{field:"action",headerName:"SELECT",headerClassName:t.gridHeader,flex:.1,sortable:!1,valueGetter:ie,renderCell:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(h.a,{style:{display:"flex",justifyContent:"space-evenly",width:"100%"},children:Object(Oe.jsx)(Je.a,{"aria-label":"SELECT",component:"span",style:{color:"#FFFFFF",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return oe(e.value)},children:Object(Oe.jsx)(Fr.a,{})})})})}}],rows:F,pageSize:7,disableColumnMenu:!0})}),1===c&&!l&&Object(Oe.jsx)("div",{style:{height:500,width:"100%"},children:Object(Oe.jsx)(We.a,{style:{backgroundColor:"#FF0000"},columns:[{field:"id",headerName:"ID",headerClassName:t.gridHeader,flex:1,hide:!0},{field:"name",headerName:"NAME",headerClassName:t.gridHeader,flex:1},{field:"action",headerName:"SELECT",headerClassName:t.gridHeader,flex:.1,sortable:!1,valueGetter:ie,renderCell:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(h.a,{style:{display:"flex",justifyContent:"space-evenly",width:"100%"},children:Object(Oe.jsx)(Je.a,{"aria-label":"SELECT",component:"span",style:{color:"#FFFFFF",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return oe(e.value)},children:Object(Oe.jsx)(Fr.a,{})})})})}}],rows:D,pageSize:7,disableColumnMenu:!0})}),2===c&&!l&&Object(Oe.jsx)("div",{style:{height:500,width:"100%"},children:Object(Oe.jsx)(We.a,{style:{backgroundColor:"#FF0000"},columns:[{field:"id",headerName:"ID",headerClassName:t.gridHeader,flex:1,hide:!0},{field:"name",headerName:"NAME",headerClassName:t.gridHeader,flex:.3},{field:"coversTxt",headerName:"COVERAGES",headerClassName:t.gridHeader,flex:1},{field:"action",headerName:"SELECT",headerClassName:t.gridHeader,flex:.25,sortable:!1,valueGetter:ie,renderCell:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(h.a,{style:{display:"flex",justifyContent:"space-evenly",width:"100%"},children:Object(Oe.jsx)(Je.a,{"aria-label":"SELECT",component:"span",style:{color:"#FFFFFF",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return oe(e.value)},children:Object(Oe.jsx)(Fr.a,{})})})})}}],rows:V,pageSize:7,disableColumnMenu:!0})}),3===c&&!l&&Object(Oe.jsxs)(g.a,{children:[Object(Oe.jsxs)(h.a,{style:{marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5",flex:1},children:"General Coverages"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(nr.a,{row:!0,style:{marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:ee.liability,name:"liability",color:"primary",checked:ne.liability,onChange:be}),label:"Liability"}),Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:ee.cargo,name:"cargo",color:"primary",checked:ne.cargo,onChange:be}),label:"Cargo"}),Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:ee.general,name:"general",color:"primary",checked:ne.general,onChange:be}),label:"Gral. Liability"})]}),Object(Oe.jsxs)(h.a,{style:{marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5",flex:1},children:"Physical Damage Coverages"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsxs)(nr.a,{row:!0,style:{marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:ee.tractor,name:"tractor",color:"primary",checked:ne.tractor,onChange:be}),label:"Tactor"}),Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:ee.trailer,name:"trailer",color:"primary",checked:ne.trailer,onChange:be}),label:"Trailer"}),Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:ee.non,name:"non",color:"primary",checked:ne.non,onChange:be}),label:"T. Non-owned"}),Object(Oe.jsx)(Ot.a,{control:Object(Oe.jsx)(cr.a,{disabled:ee.interchange,name:"interchange",color:"primary",checked:ne.interchange,onChange:be}),label:"T. Interchage"})]}),Object(Oe.jsx)(h.a,{style:{display:"flex",marginLeft:15,marginRight:15,justifyContent:"flex-end"},children:Object(Oe.jsx)(x.a,{style:{backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:fe,children:"GENERATE APPLICATION"})})]}),4===c&&!l&&Object(Oe.jsx)(g.a,{children:Object(Oe.jsx)(Br,{files:J.files})})]})]})}var Hr=r(156),Gr=r.n(Hr),Vr=r(157),Wr=r.n(Vr),zr=r(138),_r=r.n(zr),Yr=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n,c,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CERTIFICATES.COMPANIES \n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:for(a=r.companies,n=[],c=0;c<a.length;c++)i=a[c][3].split("::"),o={id:a[c][0],name:a[c][2],address:i[0],city:i[1],state:i[2],zip:i[3]},n.push(o);return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),qr=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CERTIFICATES.NEW COMPANY \n".concat(e.t0)),r=void 0;case 10:if(void 0!==r&&!r.error){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Zr=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CERTIFICATES.REMOVE COMPANY \n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),$r=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CERTIFICATES.CERTIFICATES \n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:for(a=r.certificates,n=[],c=0;c<a.length;c++)i={id:a[c][0],holder:a[c][1],date:a[c][2]},n.push(i);return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Jr=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(t,r);case 3:a=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CERTIFICATES.NEW CERTIFICATE \n".concat(e.t0)),a=void 0;case 10:if(void 0!==a){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),Kr=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(t);case 3:r=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CERTIFICATES.NEW CERTIFICATE PDF\n".concat(e.t0)),r=void 0;case 10:if(void 0!==r){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Xr=function(){var e=Object(d.a)(u.a.mark((function e(t,r,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$(t,r,a);case 3:n=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Controller Error : CERTIFICATES.SEND MAIL\n".concat(e.t0)),n=void 0;case 10:if(void 0!==n){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,a){return e.apply(this,arguments)}}();function Qr(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(h.a,{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center"},children:Object(Oe.jsx)(h.a,{style:{width:"99%",height:750},children:Object(Oe.jsx)(Pr,{file:e.file})})})})}function ea(e){var t=n.a.useState(""),r=Object(p.a)(t,2),a=r[0],c=r[1],i=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==a){t.next=6;break}return t.next=3,window.confirm("The note is empty. Do you want to proceed?");case 3:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,window.confirm("Do you want to create a New Certificate for the selected Company?");case 8:if(t.sent){t.next=11;break}return t.abrupt("return");case 11:e.onConfirm(e.id,a);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"40%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"CERTIFICATE CREATION"})})}),Object(Oe.jsxs)(h.a,{style:{margin:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"NOTE"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},multiline:!0,label:"Optional Note",variant:"outlined",value:a,onChange:function(e){return c(e.target.value)}}),Object(Oe.jsxs)(h.a,{children:[Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#FF5555",color:"#FFFFFF"},onClick:e.onCancel,children:"Cancel"}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:i,children:"Generate Certificate"})]})]})}var ta=Object(Se.a)((function(e){return{root:{flexGrow:1},containerRoot:{display:"flex",marginTop:8,flexDirection:"column",overflow:"scrollable"},grid:{},gridHeader:{color:"#FFFFFF",backgroundColor:"#3973E5"}}}));function ra(e){var t=ta(),r=n.a.useState(0),a=Object(p.a)(r,2),c=a[0],i=a[1],o=n.a.useState(!0),s=Object(p.a)(o,2),l=s[0],b=s[1],f=n.a.useState(!1),j=Object(p.a)(f,2),C=j[0],w=j[1],k=n.a.useState(!1),F=Object(p.a)(k,2),E=F[0],N=F[1],S=n.a.useState(!0),T=Object(p.a)(S,2),R=T[0],L=T[1],A=n.a.useState([]),D=Object(p.a)(A,2),I=D[0],P=D[1],B=n.a.useState([]),M=Object(p.a)(B,2),U=M[0],H=M[1],G=n.a.useState(!1),V=Object(p.a)(G,2),W=V[0],z=V[1],_=n.a.useState(-1),Y=Object(p.a)(_,2),q=Y[0],Z=Y[1],$=n.a.useState(-1),J=Object(p.a)($,2),K=J[0],X=J[1],Q=n.a.useState(""),ee=Object(p.a)(Q,2),te=ee[0],re=ee[1],ae=n.a.useState(""),ne=Object(p.a)(ae,2),ce=ne[0],ie=ne[1],oe=n.a.useState(""),se=Object(p.a)(oe,2),le=se[0],ue=se[1],de=n.a.useState(""),pe=Object(p.a)(de,2),be=pe[0],fe=pe[1],je=n.a.useState(""),he=Object(p.a)(je,2),xe=he[0],ve=he[1],me=n.a.useState([]),ge=Object(p.a)(me,2),ye=ge[0],Ce=ge[1],we=n.a.useState([]),ke=Object(p.a)(we,2),Fe=ke[0],Ee=ke[1],Ne=n.a.useState(!1),Se=Object(p.a)(Ne,2),Te=Se[0],Re=Se[1],De=n.a.useState(""),Ie=Object(p.a)(De,2),Pe=Ie[0],Be=Ie[1],Me=n.a.useState(!1),Ue=Object(p.a)(Me,2),Ge=Ue[0],Ve=Ue[1],ze=n.a.useState(!1),Ye=Object(p.a)(ze,2),Ze=Ye[0],$e=Ye[1],Ke=n.a.useState(-1),Xe=Object(p.a)(Ke,2),Qe=Xe[0],et=Xe[1],tt=n.a.useState({main:"",cc:""}),rt=Object(p.a)(tt,2),at=rt[0],nt=rt[1],ct=n.a.useState(0),ot=Object(p.a)(ct,2),st=ot[0],ut=ot[1],dt=n.a.useState(!1),pt=Object(p.a)(dt,2),bt=pt[0],ft=pt[1],jt=n.a.useState(""),ht=Object(p.a)(jt,2),mt=ht[0],gt=ht[1];n.a.useEffect((function(){l&&yt()}),[]),n.a.useEffect((function(){E||(re(""),ie(""),ue(""),fe(""),ve(""),q>0&&(Z(-1),X(-1),Lt()))}),[E]),n.a.useEffect((function(){!0!==Te&&Be("")}),[Te]),n.a.useEffect((function(){Ge||(nt({main:"",cc:""}),et(-1),$e(!1))}),[Ge]),n.a.useEffect((function(){ft(0!==st)}),[st]);var Ot=function(e){return e.getValue(e.id,"id")},yt=function(){var t=Object(d.a)(u.a.mark((function t(){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Yr(e.cid);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:return t.prev=9,t.next=12,$r(e.cid);case 12:a=t.sent,t.next=18;break;case 15:t.prev=15,t.t1=t.catch(9),a=void 0;case 18:void 0!==r&&void 0!==a||w(!0),P(r),H(r),Ce(a),Ee(a),b(!1);case 24:case"end":return t.stop()}}),t,null,[[0,6],[9,15]])})));return function(){return t.apply(this,arguments)}}(),Ct=function(){var t=Object(d.a)(u.a.mark((function t(){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if([te,ce,le,be,xe].every(Boolean)){t.next=3;break}return alert("All parameters are required!"),t.abrupt("return");case 3:return r={cid:e.cid,name:te,location:"".concat(ce,"::").concat(le,"::").concat(be,"::").concat(xe)},z(!0),t.prev=5,t.next=8,qr(r);case 8:a=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),a=void 0;case 14:if(void 0!==a){t.next=18;break}return alert("Ups... Somethin went wrong while creating the company. Please, try again"),z(!1),t.abrupt("return");case 18:Z(a.id),z(!1);case 20:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(){return t.apply(this,arguments)}}(),wt=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(!1),gt("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),kt=function(){var e=Object(d.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.prev=1,e.next=4,Jr(q,mt);case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=void 0;case 10:if(void 0!==t){e.next=14;break}return alert("Ups... Somethin went wrong while creating the certificate. Please, try again"),z(!1),e.abrupt("return");case 14:return e.prev=14,e.next=17,Kr(t.lid);case 17:r=e.sent,e.next=23;break;case 20:e.prev=20,e.t1=e.catch(14),r=void 0;case 23:if(void 0!==r){e.next=27;break}return alert("Ups... Somethin went wrong while creating the certificate. Please, try again"),z(!1),e.abrupt("return");case 27:X(t.lid),gt(""),Z(-1),z(!1);case 31:case"end":return e.stop()}}),e,null,[[1,7],[14,20]])})));return function(){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ut(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Et=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The Certificate will not be created. Do you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:Nt();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gt(""),ut(0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),St=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nt(),L(!1),e.prev=2,e.next=5,Jr(t,r);case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a=void 0;case 11:if(void 0!==a){e.next=15;break}return alert("Ups... Somethin went wrong while creating the certificate. Please, try again"),L(!0),e.abrupt("return");case 15:return e.prev=15,e.next=18,Kr(a.lid);case 18:n=e.sent,e.next=24;break;case 21:e.prev=21,e.t1=e.catch(15),n=void 0;case 24:if(void 0!==n){e.next=28;break}return alert("Ups... Somethin went wrong while creating the certificate PDF. Please, try again"),L(!0),e.abrupt("return");case 28:L(!0),gt(""),Tt(a.lid),Lt();case 32:case"end":return e.stop()}}),e,null,[[2,8],[15,21]])})));return function(t,r){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="https://www.truckinsurancesolutions.org/system/ready_files/certs/cert".concat(t,".pdf"),et(t),Be(r),Re(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The selected Company will be deleted. \nDo you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return L(!1),r={id:t},e.prev=7,e.next=10,Zr(r);case 10:a=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),a=void 0;case 16:if(void 0!==a){e.next=20;break}return alert("Ups... Somethin went wrong while removing the company. Please, try again"),L(!0),e.abrupt("return");case 20:return e.next=22,Lt();case 22:L(!0);case 23:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t){return e.apply(this,arguments)}}(),Lt=function(){var t=Object(d.a)(u.a.mark((function t(){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Yr(e.cid);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:return t.prev=9,t.next=12,$r(e.cid);case 12:a=t.sent,t.next=18;break;case 15:t.prev=15,t.t1=t.catch(9),a=void 0;case 18:void 0!==r&&void 0!==a||w(!0),P(r),H(r),Ce(a),Ee(a);case 23:case"end":return t.stop()}}),t,null,[[0,6],[9,15]])})));return function(){return t.apply(this,arguments)}}(),At=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Te&&Re(!1),et(t),Ve(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $e(!0),e.prev=1,e.next=4,Xr(Qe,at.main,at.cc);case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=void 0;case 10:if(void 0!==t){e.next=13;break}return alert("Ups... Something went wrong while sending the e-mail. Please, try again."),e.abrupt("return");case 13:alert("Mail sended successfully!"),Ve(!1);case 15:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:t.root,children:Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"CLIENT CERTIFICATES"})})})}),Object(Oe.jsxs)(g.a,{className:t.containerRoot,children:[Object(Oe.jsx)(O.a,{position:"static",style:{display:"flex",flexDirection:"row"},children:Object(Oe.jsxs)(xt.a,{value:c,onChange:function(e,t){i(t)},style:{backgroundColor:"#3973E5"},children:[Object(Oe.jsx)(vt.a,{label:"Companies"}),Object(Oe.jsx)(vt.a,{label:"History"})]})}),l&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:500},children:[!C&&Object(Oe.jsx)(Ae.a,{style:{color:"#3973E5"}}),Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3973E5"},children:C?"Someting whent wrong try again later...":"Loading certificates information..."})]})}),0===c&&Object(Oe.jsxs)(g.a,{style:{visibility:!0===l?"hidden":"visible"},children:[Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"flex-end"},children:[Object(Oe.jsx)(lt,{onUpdate:P,original:U,fields:["name","licence","state"],color:"#3973E5"}),Object(Oe.jsxs)(Je.a,{"aria-label":"NEW",style:{color:"#3973E5",fontSize:15},onClick:function(){return N(!0)},children:["New Company ",Object(Oe.jsx)(qe.a,{fontSize:"large"})]})]}),Object(Oe.jsx)("div",{style:{height:500,width:"100%"},children:Object(Oe.jsx)(We.a,{style:{backgroundColor:"#FF0000"},columns:[{field:"id",headerName:"ID",headerClassName:t.gridHeader,flex:1,hide:!0},{field:"name",headerName:"NAME",headerClassName:t.gridHeader,flex:1},{field:"address",headerName:"ADDRESS",headerClassName:t.gridHeader,flex:1},{field:"city",headerName:"CITY",headerClassName:t.gridHeader,flex:1},{field:"state",headerName:"STATE",headerClassName:t.gridHeader,flex:1},{field:"zip",headerName:"ZIP",headerClassName:t.gridHeader,flex:1},{field:"action",headerName:"ACTIONS",headerClassName:t.gridHeader,flex:1,sortable:!1,valueGetter:Ot,renderCell:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-evenly",width:"100%"},children:[Object(Oe.jsx)(Je.a,{disabled:!R,"aria-label":"GENERATE",component:"span",style:{color:R?"#FFFFFF":"#999999",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return Ft(e.value)},children:Object(Oe.jsx)(Gr.a,{})}),Object(Oe.jsx)(Je.a,{disabled:!R,"aria-label":"DELETE",component:"span",style:{color:R?"#FF0000":"#999999",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return Rt(e.value)},children:Object(Oe.jsx)(_e.a,{})})]})})}}],rows:I,pageSize:7,disableColumnMenu:!0})})]}),1===c&&Object(Oe.jsxs)(g.a,{style:{visibility:!0===l?"hidden":"visible"},children:[Object(Oe.jsx)(h.a,{style:{display:"flex",justifyContent:"flex-end",marginBottom:12},children:Object(Oe.jsx)(lt,{onUpdate:Ce,original:Fe,fields:["holder","date"],color:"#3973E5"})}),Object(Oe.jsx)("div",{style:{height:500,width:"100%"},children:Object(Oe.jsx)(We.a,{style:{backgroundColor:"#FF0000"},columns:[{field:"id",headerName:"ID",headerClassName:t.gridHeader,flex:1,hide:!0},{field:"holder",headerName:"HOLDER/COMPANY NAME",headerClassName:t.gridHeader,flex:1},{field:"date",headerName:"DATE OF CREATION",headerClassName:t.gridHeader,flex:.3},{field:"action",headerName:"ACTIONS",headerClassName:t.gridHeader,flex:.2,sortable:!1,valueGetter:Ot,renderCell:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-evenly",width:"100%"},children:[Object(Oe.jsx)(Je.a,{"aria-label":"COPY",component:"span",style:{color:R?"#FFFFFF":"#999999",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return Tt(e.value)},children:Object(Oe.jsx)(Wr.a,{})}),Object(Oe.jsx)(Je.a,{disabled:!R,"aria-label":"MAIL",component:"span",style:{color:R?"#FFFFFF":"#999999",backgroundColor:"#3973E5",marginRight:12},onClick:function(){return At(e.value)},children:Object(Oe.jsx)(_r.a,{})})]})})}}],rows:ye,pageSize:7,disableColumnMenu:!0})})]})]}),Object(Oe.jsx)(He.a,{open:E,onClose:wt,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"40%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"NEW COMPANY"})})}),Object(Oe.jsxs)(h.a,{style:{margin:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"HOLDER / COMPANY INFORMATION"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsx)(m.a,{disabled:q>0,style:{marginTop:8,marginLeft:15,marginRight:15},label:"Name",variant:"filled",value:te,onChange:function(e){return re(e.target.value)}}),Object(Oe.jsxs)(h.a,{style:{margin:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"HOLDER / COMPANY ADDRESS"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsx)(m.a,{disabled:q>0,style:{marginTop:8,marginLeft:15,marginRight:15},label:"Street",variant:"filled",value:ce,onChange:function(e){return ie(e.target.value)}}),Object(Oe.jsx)(m.a,{disabled:q>0,style:{marginTop:8,marginLeft:15,marginRight:15},label:"City",variant:"filled",value:le,onChange:function(e){return ue(e.target.value)}}),Object(Oe.jsx)(m.a,{disabled:q>0,style:{marginTop:8,marginLeft:15,marginRight:15},label:"State",variant:"filled",value:be,onChange:function(e){return fe(e.target.value)}}),Object(Oe.jsx)(m.a,{disabled:q>0,style:{marginTop:8,marginLeft:15,marginRight:15},label:"ZIP",variant:"filled",value:xe,onChange:function(e){return ve(e.target.value)}}),Object(Oe.jsx)(x.a,{style:{display:q<=0&&K<=0?"block":"none",marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:Ct,children:"Register company"}),W&&Object(Oe.jsx)(h.a,{style:{display:"flex",justifyContent:"center",marginBottom:8},children:Object(Oe.jsx)(Ae.a,{style:{color:"#3973E5"}})}),Object(Oe.jsxs)(h.a,{style:{display:q>0?"block":"none",margin:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1,textAlign:"center"},children:"COMPANY REGISTERED SUCCESSFULLY"}),Object(Oe.jsx)(Le.a,{style:{marginBottom:8}}),Object(Oe.jsx)(m.a,{label:"Optional Note",variant:"outlined",fullWidth:!0,multiline:!0,value:mt,onChange:function(e){return gt(e.target.value)}}),Object(Oe.jsx)(x.a,{disabled:W,style:{marginTop:8,marginBottom:8,backgroundColor:"#3973E5",color:"#FFFFFF",width:"100%"},onClick:kt,children:"Generate Certificate"})]}),Object(Oe.jsxs)(h.a,{style:{display:K>0?"block":"none",margin:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1,textAlign:"center"},children:"CERTIFICATE CREATED SUCCESSFULLY"}),Object(Oe.jsx)(Le.a,{}),Object(Oe.jsx)(x.a,{disabled:W,style:{marginTop:8,marginBottom:8,backgroundColor:"#3973E5",color:"#FFFFFF",width:"100%"},onClick:function(){return Tt(K)},children:"Visualize PDF"}),Object(Oe.jsx)(x.a,{disabled:W,style:{marginTop:8,marginBottom:8,backgroundColor:"#3973E5",color:"#FFFFFF",width:"100%"},onClick:function(){return At(K)},children:"Mail Certificate to Address"})]})]})}),Object(Oe.jsx)(He.a,{open:Te,onClose:function(){return Re(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"15%",width:"70%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsxs)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:[Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"CERTIFICATE VIWER"}),Object(Oe.jsx)(h.a,{style:{display:"inline-flex",justifyContent:"flex-end",flex:1},children:Object(Oe.jsxs)(x.a,{variant:"outlined",style:{backgroundColor:"#3973E5",borderRadius:45,borderWidth:2,borderColor:"#FFFFFF",color:"#FFFFFF",marginTop:8,marginBottom:8},onClick:function(){return At(Qe)},children:["e-Mail File ",Object(Oe.jsx)(_r.a,{style:{marginLeft:4}})]})})]})}),Object(Oe.jsx)(Qr,{file:Pe})]})}),Object(Oe.jsx)(He.a,{open:Ge,onClose:function(){return Ve(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"40%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3973E5"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"CERTIFICATE MAILING"})})}),Object(Oe.jsxs)(h.a,{style:{margin:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(v.a,{style:{color:"#3973E5",flex:1},children:"RECEIVER E-MAIL"}),Object(Oe.jsx)(Le.a,{})]}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"E-Mail",variant:"filled",value:at.main,onChange:function(e){return nt(Object(it.a)(Object(it.a)({},at),{},{main:e.target.value}))}}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"CC E-Mail *Optional",variant:"filled",value:at.cc,onChange:function(e){return nt(Object(it.a)(Object(it.a)({},at),{},{cc:e.target.value}))}}),Object(Oe.jsx)(x.a,{disabled:Ze,style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3973E5",color:"#FFFFFF"},onClick:Dt,children:"Send Mail"})]})}),Object(Oe.jsx)(He.a,{open:bt,onClose:Et,children:Object(Oe.jsx)(ea,{onCancel:Et,onConfirm:St,id:st})})]})}var aa=Object(Se.a)((function(e){return{Main:{backgroundColor:"#3973E5"},MainText:{color:"#FFFFFF"},Sub:{backgroundColor:"#A5C0F3"},Text:{color:"#3973E5",marginTop:5},Box:{display:"flex",flexDirection:"column",width:"100%"}}}));function na(){var e=window.innerHeight,t=aa(),r=Object(s.f)(),a=n.a.useState(0),c=Object(p.a)(a,2),i=c[0],o=c[1],l=n.a.useState(!1),b=Object(p.a)(l,2),f=b[0],j=b[1],m=n.a.useState(void 0),g=Object(p.a)(m,2),O=g[0],y=g[1],w=n.a.useState(""),k=Object(p.a)(w,2),F=k[0],E=k[1];n.a.useEffect((function(){void 0!==O&&(S(3),R("ClientProfile"),j(!0))}),[O]);var N=function(e){return function(t,r){o(!!r&&e)}},S=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.push("/");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=4;break}return j(!1),y(void 0),e.abrupt("return");case 4:y(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex"},children:[Object(Oe.jsxs)(Ce.a,{square:!0,style:{flex:"10%",backgroundColor:"#3973E5",height:e},children:[Object(Oe.jsx)("img",{style:{height:100,width:250},src:C,alt:"TIS Logo"}),Object(Oe.jsx)(x.a,{style:{width:200,marginBottom:10,marginLeft:25,backgroundColor:"#FF0000",borderRadius:16},variant:"contained",onClick:T,children:"Log out"}),Object(Oe.jsxs)(h.a,{style:{maxHeight:.9*e},children:[Object(Oe.jsxs)(we.a,{square:!0,expanded:1===i,onChange:N(1),children:[Object(Oe.jsx)(ke.a,{expandIcon:Object(Oe.jsx)(Ne.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",className:t.Main,children:Object(Oe.jsx)(v.a,{variant:"h6",className:t.MainText,children:"Agency"})}),Object(Oe.jsx)(Fe.a,{className:t.Sub,children:Object(Oe.jsxs)(h.a,{className:t.Box,children:[Object(Oe.jsx)(x.a,{className:t.Text,fullWidth:!0,variant:"contained",onClick:function(){return R("AgencyProfile")},children:"Profile"}),Object(Oe.jsx)(x.a,{className:t.Text,fullWidth:!0,variant:"contained",onClick:function(){return R("AgencyUsers")},children:"Agents"})]})})]}),Object(Oe.jsxs)(we.a,{square:!0,expanded:2===i,onChange:N(2),children:[Object(Oe.jsx)(ke.a,{expandIcon:Object(Oe.jsx)(Ne.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",className:t.Main,children:Object(Oe.jsx)(v.a,{variant:"h6",className:t.MainText,children:"Clients"})}),Object(Oe.jsx)(Fe.a,{className:t.Sub,children:Object(Oe.jsx)(h.a,{className:t.Box,children:Object(Oe.jsx)(x.a,{className:t.Text,fullWidth:!0,variant:"contained",onClick:function(){return R("ClientAgenda")},children:"Agenda"})})})]}),Object(Oe.jsxs)(we.a,{square:!0,expanded:3===i,onChange:N(3),style:{visibility:f?"visible":"hidden"},children:[Object(Oe.jsx)(ke.a,{expandIcon:Object(Oe.jsx)(Ne.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",className:t.Main,children:Object(Oe.jsx)(v.a,{variant:"h6",className:t.MainText,children:"Client Actions"})}),Object(Oe.jsx)(Fe.a,{className:t.Sub,children:Object(Oe.jsxs)(h.a,{className:t.Box,children:[Object(Oe.jsx)(x.a,{className:t.Text,fullWidth:!0,variant:"contained",onClick:function(){return R("ClientProfile")},children:"Profile"}),Object(Oe.jsx)(x.a,{className:t.Text,fullWidth:!0,variant:"contained",onClick:function(){return R("ClientApp")},children:"Mobile App"}),Object(Oe.jsx)(x.a,{className:t.Text,fullWidth:!0,variant:"contained",onClick:function(){return R("ClientCoverage")},children:"Coverages"}),Object(Oe.jsx)(x.a,{className:t.Text,fullWidth:!0,variant:"contained",onClick:function(){return R("ClientVehicles")},children:"Vehicles"}),Object(Oe.jsx)(x.a,{className:t.Text,fullWidth:!0,variant:"contained",onClick:function(){return R("ClientDrivers")},children:"Drivers"}),Object(Oe.jsx)(x.a,{className:t.Text,fullWidth:!0,variant:"contained",onClick:function(){return R("ClientPolicies")},children:"Policies"}),Object(Oe.jsx)(x.a,{className:t.Text,fullWidth:!0,variant:"contained",onClick:function(){return R("ClientDocs")},children:"Documents"}),Object(Oe.jsx)(x.a,{className:t.Text,fullWidth:!0,variant:"contained",onClick:function(){return R("ClientApplications")},children:"Applications"}),Object(Oe.jsx)(x.a,{className:t.Text,fullWidth:!0,variant:"contained",onClick:function(){return R("ClientCerts")},children:"Certificates"})]})})]})]})]}),Object(Oe.jsxs)(h.a,{square:!0,style:{flex:"90%",height:e,minHeight:e,overflow:"auto"},children:[""===F&&Object(Oe.jsx)(Re,{}),"AgencyProfile"===F&&Object(Oe.jsx)(Ve,{}),"AgencyUsers"===F&&Object(Oe.jsx)(dt,{}),"ClientAgenda"===F&&Object(Oe.jsx)(ht,{onClient:L}),"ClientProfile"===F&&void 0!==O&&Object(Oe.jsx)(Lt,{cid:O}),"ClientApp"===F&&Object(Oe.jsx)(Ut,{cid:O}),"ClientCoverage"===F&&Object(Oe.jsx)(Wt,{cid:O}),"ClientVehicles"===F&&Object(Oe.jsx)(Jt,{cid:O}),"ClientDrivers"===F&&Object(Oe.jsx)(ar,{cid:O}),"ClientPolicies"===F&&Object(Oe.jsx)(br,{cid:O}),"ClientDocs"===F&&Object(Oe.jsx)(Or,{cid:O}),"ClientApplications"===F&&Object(Oe.jsx)(Ur,{cid:O}),"ClientCerts"===F&&Object(Oe.jsx)(ra,{cid:O})]})]})})}var ca=Object(Se.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}}));function ia(){var e=ca();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:e.root,children:Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#777777"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"WELCOME"})})})}),Object(Oe.jsx)(g.a,{style:{display:"flex",marginTop:"10%",justifyContent:"center"},children:Object(Oe.jsx)(b.a,{elevation:10,children:Object(Oe.jsxs)(j.a,{children:[Object(Oe.jsx)(v.a,{variant:"h5",component:"h2",style:{color:"#777777"},children:"WELCOME"}),Object(Oe.jsx)(v.a,{style:{color:"#777777"},children:"To navigate througth the system, please use the left panel."})]})})})]})}var oa=r(159),sa=r.n(oa),la=r(158),ua=r.n(la),da=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"corporate/login.php",a="?user=".concat(t,"&pass=").concat(r),n=k("".concat("corporate/login.php").concat(a)),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),pa=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"corporate/usersList.php","",t=k("".concat("corporate/usersList.php").concat("")),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ba=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"corporate/usersCreate.php",r=F("corporate/usersCreate.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fa=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"corporate/usersRemove.php",r=F("corporate/usersRemove.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ja=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"corporate/usersUpdate.php",r=F("corporate/usersUpdate.php",t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ha=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"corporate/companiesList.php","",t=k("".concat("corporate/companiesList.php").concat("")),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xa=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"corporate/companiesCreate.php",r=E("".concat("corporate/companiesCreate.php"),t),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),va=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"corporate/companiesUpdate.php",r=E("".concat("corporate/companiesUpdate.php"),t),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ma=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,da(t,r);case 3:a=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a=void 0;case 9:if(void 0!==a){e.next=11;break}return e.abrupt("return",!1);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),ga=function(){var e=Object(d.a)(u.a.mark((function e(){var t,r,a,n,c,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ha();case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t=void 0;case 9:if(void 0!==t){e.next=11;break}return e.abrupt("return",[]);case 11:for(r=t.companies,a=[],n=0;n<r.length;n++)c=r[n][1].split(":"),i=r[n][3].split(":"),o={id:r[n][0],name:r[n][1],producer:c[0],company:c[1],lic_number:r[n][2],phoneNumber:i[0],emailAddress:i[1],phone:r[n][3],phone_fax:r[n][4],address:r[n][5],city:r[n][6],state:r[n][7],zip:r[n][8],acces_finish:r[n][9],expiration:kt(r[n][9]),status:Number(r[n][10]),statusTx:1===Number(r[n][10])?"Active":"Inactive",master_pass:r[n][11]},a.push(o);return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Oa=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa(t);case 3:r=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ya=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,va(t);case 3:r=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ca=function(){var e=Object(d.a)(u.a.mark((function e(){var t,r,a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pa();case 3:t=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",[]);case 9:for(r=t.users,a=[],n=0;n<r.length;n++)c={id:Number(r[n][0]),name:r[n][1],email:r[n][2],pass:r[n][3],role:r[n][4],roleLabel:r[n][4].toUpperCase()},a.push(c);return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),wa=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ba(t);case 3:r=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",void 0);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ka=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fa(t);case 3:r=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",void 0);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Fa=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ja(t);case 3:r=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",void 0);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ea=Object(Se.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},fieldSpacing:{marginRight:20,width:"30%"},fieldSpacingB:{marginRight:20,width:"22%"},containerRoot:{display:"flex",marginTop:25,marginBottom:40,flexDirection:"column",overflow:"scrollable"},grid:{},gridHeader:{color:"#FFFFFF",backgroundColor:"#3973E5"},contentMain:{display:"flex",flexDirection:"column"}}}));function Na(e){var t,r=Ea(),a=n.a.useState({name:"",producer:"",lic_number:"",acces_finish:"",phone:"",email:"",phone_fax:"",address:"",city:"",state:"",zip:"",master_pass:"master",status:1}),c=Object(p.a)(a,2),i=c[0],o=c[1],s=n.a.useState(""),l=Object(p.a)(s,2),O=l[0],y=l[1];n.a.useEffect((function(){y(i)}),[i]);var C=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Object(it.a)(Object(it.a)({},i),{},Object(ct.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var t=Object(d.a)(u.a.mark((function t(){var r,a,n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=u.a.keys(i);case 1:if((t.t1=t.t0()).done){t.next=8;break}if(r=t.t1.value,[i[r]].every(Boolean)){t.next=6;break}return alert("All parameters are required. \nPlease verify your information"),t.abrupt("return");case 6:t.next=1;break;case 8:return t.next=10,window.confirm("The company will be created. \nDo you want to proceed?");case 10:if(t.sent){t.next=13;break}return t.abrupt("return");case 13:for(n in i.phone="".concat(i.phone,":").concat(i.email),i.name="".concat(i.producer,":").concat(i.name),a=new FormData,i)a.append("".concat(n),i[n]);return t.prev=17,t.next=20,Oa(a);case 20:c=t.sent,t.next=28;break;case 23:return t.prev=23,t.t2=t.catch(17),console.log(t.t2),alert("Error while creating new company. \nPlease, try again"),t.abrupt("return");case 28:if(c.success){t.next=32;break}return alert("Error while creating new COMPANY. \nPlease, try again"),o(O),t.abrupt("return");case 32:e.onSuccess();case 33:case"end":return t.stop()}}),t,null,[[17,23]])})));return function(){return t.apply(this,arguments)}}();return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(g.a,{style:{display:"flex",marginTop:"5%",justifyContent:"center"},children:Object(Oe.jsxs)(b.a,{style:{width:"80%"},elevation:10,children:[Object(Oe.jsxs)(j.a,{children:[Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"NEW COMPANY"}),Object(Oe.jsx)(Le.a,{}),Object(Oe.jsxs)(h.a,{className:r.contentMain,children:[Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Company Name",variant:"filled",name:"name",value:i.name,onChange:C}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Producer Name",variant:"filled",name:"producer",value:i.producer,onChange:C}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Licence",variant:"filled",name:"lic_number",value:i.lic_number,onChange:C}),Object(Oe.jsx)(m.a,(t={style:{marginTop:8,marginLeft:15,marginRight:15},label:"Access Expiration",variant:"filled",type:"date"},Object(ct.a)(t,"variant","filled"),Object(ct.a)(t,"defaultValue","1900-01-01"),Object(ct.a)(t,"name","acces_finish"),Object(ct.a)(t,"value",i.acces_finish),Object(ct.a)(t,"onChange",C),Object(ct.a)(t,"InputLabelProps",{shrink:!0}),t)),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-around",marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(m.a,{style:{flex:1,marginRight:15},label:"Phone",variant:"filled",name:"phone",value:i.phone,onChange:C}),Object(Oe.jsx)(m.a,{style:{flex:1,marginRight:15},label:"Fax",variant:"filled",name:"phone_fax",value:i.phone_fax,onChange:C}),Object(Oe.jsx)(m.a,{style:{flex:1},label:"E-mail",variant:"filled",name:"email",value:i.email,onChange:C})]}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-around",marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(m.a,{style:{flex:1,marginRight:15},label:"Address",variant:"filled",name:"address",value:i.address,onChange:C}),Object(Oe.jsx)(m.a,{style:{flex:1},label:"City",variant:"filled",name:"city",value:i.city,onChange:C})]}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-around",marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(m.a,{style:{flex:1,marginRight:15},label:"State",variant:"filled",name:"state",value:i.state,onChange:C}),Object(Oe.jsx)(m.a,{style:{flex:1},label:"Zip",variant:"filled",name:"zip",value:i.zip,onChange:C})]})]})]}),Object(Oe.jsxs)(f.a,{children:[Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#CC0000",fontWeight:"bold",color:"#FFFFFF"},fullWidth:!0,onClick:e.onCancel,children:"CANCEL"}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#00CC00",fontWeight:"bold",color:"#FFFFFF"},fullWidth:!0,onClick:w,children:"CREATE"})]})]})})})}var Sa=Object(Se.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},fieldSpacing:{marginRight:20,width:"30%"},fieldSpacingB:{marginRight:20,width:"22%"},containerRoot:{display:"flex",marginTop:25,paddingBottom:25,flexDirection:"column",overflow:"scrollable",backgroundColor:"#FFFFFF"},grid:{},gridHeader:{color:"#FFFFFF",backgroundColor:"#777777"}}}));function Ta(e){var t=Sa(),r=n.a.useState(!0),a=Object(p.a)(r,2),c=a[0],i=a[1],o=n.a.useState(!1),s=Object(p.a)(o,2),l=(s[0],s[1]),b=n.a.useState([]),f=Object(p.a)(b,2),j=f[0],C=f[1],w=n.a.useState(!1),k=Object(p.a)(w,2),F=k[0],E=k[1],N=n.a.useState(""),S=Object(p.a)(N,2),T=S[0],R=S[1],L=n.a.useState(""),A=Object(p.a)(L,2),D=A[0],I=A[1],P=n.a.useState(""),B=Object(p.a)(P,2),M=B[0],U=B[1],H=n.a.useState(""),G=Object(p.a)(H,2),V=G[0],W=G[1],z=n.a.useState(""),_=Object(p.a)(z,2),Y=_[0],q=_[1];n.a.useEffect((function(){c&&Z()}),[]),n.a.useEffect((function(){!1===F&&X()}),[F]);var Z=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ie(e.company.id);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:if(void 0!==r){t.next=12;break}return l(!0),t.abrupt("return");case 12:C(r),i(!1);case 14:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The selected Agent will be deleted. \nDo you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return q(t),e.prev=6,e.next=9,Be(t);case 9:e.sent,e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(6),alert("Something went wrong while removing the agent, please try again."),q(""),e.abrupt("return");case 17:Q();case 18:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if([T,D,M,V].every(Boolean)){t.next=3;break}return alert("All parameters are required"),t.abrupt("return");case 3:if(K(D)){t.next=6;break}return alert("E-mail format its not valid, please verify information"),t.abrupt("return");case 6:return t.prev=6,t.next=9,Pe(e.company.id,T,M,D,V);case 9:r=t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),r=void 0;case 15:if(void 0!==r){t.next=18;break}return alert("Something went wrong while creating this agent, please try again"),t.abrupt("return");case 18:Q(),E(!1);case 20:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(){return t.apply(this,arguments)}}(),K=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},X=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(""),I(""),U(""),W("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ie(e.company.id);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:if(void 0!==r){t.next=11;break}return t.abrupt("return");case 11:C(r);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)(g.a,{className:t.containerRoot,style:{visibility:!0===c?"hidden":"visible"},children:[Object(Oe.jsx)(h.a,{children:Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#3d3d3d",flex:1},children:"COMPANY AGENTS"})}),Object(Oe.jsx)(Le.a,{}),Object(Oe.jsx)(h.a,{style:{display:"flex",justifyContent:"flex-end"},children:Object(Oe.jsxs)(Je.a,{"aria-label":"NEW",style:{color:"#777777",fontSize:15},onClick:function(){return E(!0)},children:["New Agent ",Object(Oe.jsx)(qe.a,{fontSize:"large"})]})}),Object(Oe.jsx)("div",{style:{height:500,width:"100%"},children:Object(Oe.jsx)(We.a,{style:{backgroundColor:"#FF0000"},columns:[{field:"id",headerName:"ID",headerClassName:t.gridHeader,flex:1,hide:!0},{field:"name",headerName:"NAME",headerClassName:t.gridHeader,flex:1},{field:"mail",headerName:"ACCESS E-MAIL",headerClassName:t.gridHeader,flex:1},{field:"pass",headerName:"ACCESS PASS",headerClassName:t.gridHeader,flex:1},{field:"level",headerName:"ACCESS LEVEL",headerClassName:t.gridHeader,flex:1},{field:"action",headerName:"ACTIONS",headerClassName:t.gridHeader,flex:1,sortable:!1,valueGetter:function(e){return e.getValue(e.id,"id")},renderCell:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-evenly",width:"100%"},children:[Object(Oe.jsx)(Je.a,{"aria-label":"DELETE",component:"span",style:{color:"#FF0000",backgroundColor:"#777777",marginRight:12,visibility:Y===e.value?"hidden":"visible",display:Y===e.value?"none":"block"},onClick:function(){return $(e.value)},children:Object(Oe.jsx)(_e.a,{})}),Object(Oe.jsx)(Ae.a,{style:{color:"#3973E5",visibility:Y===e.value?"visible":"hidden",display:Y===e.value?"block":"none"}})]})})}}],rows:j,pageSize:7,disableColumnMenu:!0})})]}),Object(Oe.jsx)(He.a,{open:F,onClose:function(){return E(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"30%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3d3d3d"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"NEW AGENT"})})}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Agent Name",variant:"filled",value:T,onChange:function(e){return R(e.target.value)}}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"E-Mail",variant:"filled",value:D,onChange:function(e){return I(e.target.value)}}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Password",variant:"filled",value:M,onChange:function(e){return U(e.target.value)}}),Object(Oe.jsxs)(Xe.a,{variant:"filled",style:{marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Qe.a,{id:"levelLabel",children:"Access Level"}),Object(Oe.jsxs)(Ke.a,{labelId:"levelLabel",value:V,onChange:function(e){return W(e.target.value)},children:[Object(Oe.jsx)(et.a,{value:"",children:"Select one option"}),Object(Oe.jsx)(et.a,{value:2,children:"Admin"}),Object(Oe.jsx)(et.a,{value:1,children:"Normal"})]})]}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3d3d3d",color:"#FFFFFF"},onClick:J,children:"Create User"})]})})]})}var Ra=Object(Se.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},fieldSpacing:{marginRight:20,width:"30%"},fieldSpacingB:{marginRight:20,width:"22%"},containerRoot:{display:"flex",marginTop:25,marginBottom:40,flexDirection:"column",overflow:"scrollable"},grid:{},gridHeader:{color:"#FFFFFF",backgroundColor:"#3973E5"},contentMain:{display:"flex",flexDirection:"column"}}}));function La(e){var t,r=Ra(),a=n.a.useState(!1),c=Object(p.a)(a,2),i=c[0],o=c[1],s=n.a.useState({id:0,name:"",company:"",producer:"",lic_number:"",acces_finish:"",phone:"",phoneNumber:"",emailAddress:"",phone_fax:"",address:"",city:"",state:"",zip:"",master_pass:"master",status:1}),l=Object(p.a)(s,2),O=l[0],y=l[1];n.a.useEffect((function(){i||(o(!0),y(e.company))}));var C=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(Object(it.a)(Object(it.a)({},O),{},Object(ct.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(u.a.mark((function e(){var t,r,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=u.a.keys(O);case 1:if((e.t1=e.t0()).done){e.next=8;break}if(t=e.t1.value,[O[t]].every(Boolean)){e.next=6;break}return alert("All parameters are required. \nPlease verify your information"),e.abrupt("return");case 6:e.next=1;break;case 8:return e.next=10,window.confirm("The information will be updated. \nDo you want to proceed?");case 10:if(e.sent){e.next=13;break}return e.abrupt("return");case 13:for(n in(r=O).name="".concat(r.producer,":").concat(r.company),r.phone="".concat(r.phoneNumber,":").concat(r.emailAddress),a=new FormData,r)a.append("".concat(n),O[n]);k(a);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var t=Object(d.a)(u.a.mark((function t(r){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ya(r);case 3:a=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a=void 0;case 9:if(void 0!==a){t.next=12;break}return alert("Error while updating information. Please, try again"),t.abrupt("return");case 12:alert(a.msg),a.success&&e.onSuccess();case 14:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(g.a,{style:{display:"flex",marginTop:"5%",justifyContent:"center"},children:Object(Oe.jsxs)(b.a,{style:{width:"80%"},elevation:10,children:[Object(Oe.jsxs)(j.a,{children:[Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"EDIT COMPANY"}),Object(Oe.jsx)(Le.a,{}),Object(Oe.jsxs)(h.a,{className:r.contentMain,children:[Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Company Name",variant:"filled",name:"company",value:O.company,onChange:C}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Producer Name",variant:"filled",name:"producer",value:O.producer,onChange:C}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Licence",variant:"filled",name:"lic_number",value:O.lic_number,onChange:C}),Object(Oe.jsx)(m.a,(t={style:{marginTop:8,marginLeft:15,marginRight:15},label:"Access Expiration",variant:"filled",type:"date"},Object(ct.a)(t,"variant","filled"),Object(ct.a)(t,"defaultValue","1900-01-01"),Object(ct.a)(t,"name","acces_finish"),Object(ct.a)(t,"value",O.acces_finish),Object(ct.a)(t,"onChange",C),Object(ct.a)(t,"InputLabelProps",{shrink:!0}),t)),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-around",marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(m.a,{style:{flex:1,marginRight:15},label:"Phone",variant:"filled",name:"phoneNumber",value:O.phoneNumber,onChange:C}),Object(Oe.jsx)(m.a,{style:{flex:1,marginRight:15},label:"Fax",variant:"filled",name:"phone_fax",value:O.phone_fax,onChange:C}),Object(Oe.jsx)(m.a,{style:{flex:1},label:"E-mail",variant:"filled",name:"emailAddress",value:O.emailAddress,onChange:C})]}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-around",marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(m.a,{style:{flex:1,marginRight:15},label:"Address",variant:"filled",name:"address",value:O.address,onChange:C}),Object(Oe.jsx)(m.a,{style:{flex:1},label:"City",variant:"filled",name:"city",value:O.city,onChange:C})]}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-around",marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(m.a,{style:{flex:1,marginRight:15},label:"State",variant:"filled",name:"state",value:O.state,onChange:C}),Object(Oe.jsx)(m.a,{style:{flex:1},label:"Zip",variant:"filled",name:"zip",value:O.zip,onChange:C})]})]})]}),Object(Oe.jsxs)(f.a,{children:[Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#CC0000",fontWeight:"bold",color:"#FFFFFF"},fullWidth:!0,onClick:e.onCancel,children:"CANCEL"}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#00CC00",fontWeight:"bold",color:"#FFFFFF"},fullWidth:!0,onClick:w,children:"UPDATE"})]})]})})})}var Aa=Object(Se.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},fieldSpacing:{marginRight:20,width:"30%"},fieldSpacingB:{marginRight:20,width:"22%"},containerRoot:{display:"flex",marginTop:25,marginBottom:40,flexDirection:"column",overflow:"scrollable"},grid:{},gridHeader:{color:"#FFFFFF",backgroundColor:"#777777"}}}));function Da(e){var t=Aa(),r=n.a.useState(!1),a=Object(p.a)(r,2),c=a[0],i=a[1],o=n.a.useState(!1),s=Object(p.a)(o,2),l=s[0],b=s[1],f=n.a.useState(!1),j=Object(p.a)(f,2),x=j[0],m=j[1],C=n.a.useState(!0),w=Object(p.a)(C,2),k=w[0],F=w[1],E=n.a.useState(!1),N=Object(p.a)(E,2),S=N[0],T=N[1],R=n.a.useState([]),L=Object(p.a)(R,2),A=L[0],D=L[1],I=n.a.useState([]),P=Object(p.a)(I,2),B=P[0],M=P[1],U=n.a.useState(""),H=Object(p.a)(U,2),G=H[0],V=H[1],W=n.a.useState(!1),z=Object(p.a)(W,2),_=z[0],Y=z[1],q=n.a.useState(void 0),Z=Object(p.a)(q,2),$=Z[0],J=Z[1];n.a.useEffect((function(){!k||K(),Y(void 0!==$)}),[$]);var K=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!1),e.next=3,ga();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=!1;case 6:(t=e.t0)?(D(t),M(t)):T(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The information will be lost. \nDo you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:b(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert("Company created successfully"),K(),b(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,a,n,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A.find((function(e){return e.id===t})),a=r.status<1?"It will be set to Active and will have access to the system":"It will be set to Inactive and will not have access to the system",e.next=4,window.confirm("Do you want to change the company status?\n"+a);case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:for(c in r.status=r.status<1?1:0,n=new FormData,r)n.append("".concat(c),r[c]);return i(!0),e.prev=11,e.next=14,ya(n);case 14:o=e.sent,e.next=23;break;case 17:return e.prev=17,e.t0=e.catch(11),alert("Error while updating company's status. \nPlease, try again"),i(!1),console.log(e.t0),e.abrupt("return");case 23:if(o.success){e.next=27;break}return alert("Error while UPDATING company's status. \nPlease, try again"),i(!1),e.abrupt("return");case 27:alert("Company status updated successfully"),K();case 29:case"end":return e.stop()}}),e,null,[[11,17]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=A.find((function(e){return e.id===t})),V(r),m(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V(""),m(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=A.find((function(e){return e.id===t})),J(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The progress will be lost. Do you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:J(void 0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K(),J(void 0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:t.root,children:Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#777777"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"COMPANIES"})})})}),k&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:500},children:[!S&&Object(Oe.jsx)(Ae.a,{style:{color:"#777777"}}),Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#777777"},children:S?"Someting whent wrong, try again later...":"Loading Companies information..."})]})}),Object(Oe.jsxs)(g.a,{className:t.containerRoot,style:{visibility:!0===k?"hidden":"visible"},children:[Object(Oe.jsx)(h.a,{children:Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#777777",flex:1},children:"REGISTERED COMPANIES"})}),Object(Oe.jsx)(Le.a,{}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"flex-end"},children:[Object(Oe.jsx)(lt,{onUpdate:D,original:B,fields:["producer","company"],color:"#777777"}),Object(Oe.jsxs)(Je.a,{"aria-label":"NEW",style:{color:"#777777",fontSize:15},onClick:function(){return b(!0)},children:["New Company ",Object(Oe.jsx)(qe.a,{fontSize:"large"})]})]}),Object(Oe.jsx)("div",{style:{height:500,width:"100%"},children:Object(Oe.jsx)(We.a,{columns:[{field:"id",headerName:"ID",headerClassName:t.gridHeader,flex:1,hide:!0},{field:"company",headerName:"NAME",headerClassName:t.gridHeader,flex:1.2},{field:"producer",headerName:"PRODUCER",headerClassName:t.gridHeader,flex:1.2},{field:"lic_number",headerName:"LICENCE",headerClassName:t.gridHeader,flex:.8},{field:"expiration",headerName:"EXPIRATION",headerClassName:t.gridHeader,flex:.7},{field:"statusTx",headerName:"STATUS",headerClassName:t.gridHeader,flex:.5},{field:"action",headerName:"ACTIONS",headerClassName:t.gridHeader,flex:.8,sortable:!1,valueGetter:function(e){return e.getValue(e.id,"id")},renderCell:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-evenly",width:"100%"},children:[Object(Oe.jsx)(Je.a,{disabled:c,"aria-label":"USERS",component:"span",style:{color:"#00ff00",backgroundColor:"#777777",marginRight:12},onClick:function(){return te(e.value)},children:Object(Oe.jsx)(ua.a,{})}),Object(Oe.jsx)(Je.a,{disabled:c,"aria-label":"STATUS",component:"span",style:{color:"#0000FF",backgroundColor:"#777777",marginRight:12},onClick:function(){return ee(e.value)},children:Object(Oe.jsx)(sa.a,{})}),Object(Oe.jsx)(Je.a,{disabled:c,"aria-label":"STATUS",component:"span",style:{color:"#00FF00",backgroundColor:"#777777",marginRight:12},onClick:function(){return ae(e.value)},children:Object(Oe.jsx)($e.a,{})})]})})}}],rows:A,pageSize:7,disableColumnMenu:!0})})]}),Object(Oe.jsx)(He.a,{open:l,onClose:X,children:Object(Oe.jsx)(h.a,{children:Object(Oe.jsx)(Na,{onCancel:X,onSuccess:Q})})}),Object(Oe.jsx)(He.a,{open:_,onClose:ne,children:Object(Oe.jsx)(h.a,{children:Object(Oe.jsx)(La,{onCancel:ne,onSuccess:ce,company:$})})}),Object(Oe.jsx)(He.a,{open:x,onClose:re,children:Object(Oe.jsx)(h.a,{children:Object(Oe.jsx)(Ta,{onClose:re,company:G})})})]})}function Ia(e){var t=n.a.useState({name:"",email:"",pass:"",role:""}),r=Object(p.a)(t,2),a=r[0],c=r[1],i=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(Object(it.a)(Object(it.a)({},a),{},Object(ct.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if([a.name,a.email,a.pass,a.role].every(Boolean)){e.next=3;break}return alert("All parameter are required. Please, verify your info"),e.abrupt("return");case 3:if(t=a.email,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())){e.next=6;break}return alert("E-mail ivalid format"),e.abrupt("return");case 6:s();case 7:case"end":return e.stop()}var t}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,wa(a);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=void 0;case 9:if(void 0!==r){t.next=12;break}return alert("Error while creating user. Please, try again"),t.abrupt("return");case 12:alert(r.msg),r.success&&e.onSuccess();case 14:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"30%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3d3d3d"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"EDIT USER"})})}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Agent Name",variant:"filled",name:"name",value:a.name,onChange:i}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"E-Mail",variant:"filled",name:"email",value:a.email,onChange:i}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Password",variant:"filled",name:"pass",value:a.pass,onChange:i}),Object(Oe.jsxs)(Xe.a,{variant:"filled",style:{marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Qe.a,{id:"levelLabel",children:"Access Level"}),Object(Oe.jsxs)(Ke.a,{labelId:"levelLabel",name:"role",value:a.role,onChange:i,children:[Object(Oe.jsx)(et.a,{value:"",children:"Select one option"}),Object(Oe.jsx)(et.a,{value:"admin",children:"Admin"}),Object(Oe.jsx)(et.a,{value:"user",children:"Normal"})]})]}),Object(Oe.jsxs)(h.a,{children:[Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#FF5555",color:"#FFFFFF"},onClick:e.onCancel,children:"Cancel"}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3d3d3d",color:"#FFFFFF"},onClick:o,children:"Create"})]})]})})}function Pa(e){var t=n.a.useState(!1),r=Object(p.a)(t,2),a=r[0],c=r[1],i=n.a.useState({name:"",email:"",pass:"",role:""}),o=Object(p.a)(i,2),s=o[0],l=o[1];n.a.useEffect((function(){a||(c(!0),l(e.user))}));var b=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(Object(it.a)(Object(it.a)({},s),{},Object(ct.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if([s.name,s.email,s.pass,s.role].every(Boolean)){e.next=3;break}return alert("All parameter are required. Please, verify your info"),e.abrupt("return");case 3:if(t=s.email,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())){e.next=6;break}return alert("E-mail ivalid format"),e.abrupt("return");case 6:j();case 7:case"end":return e.stop()}var t}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.confirm("The progress will be updated. Do you want to proceed?");case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,Fa(s);case 8:r=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),r=void 0;case 14:if(void 0!==r){t.next=17;break}return alert("Error while updating user. Please, try again"),t.abrupt("return");case 17:alert(r.msg),r.success&&e.onSuccess();case 19:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(){return t.apply(this,arguments)}}();return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{position:"absolute",top:"10%",left:"30%",width:"40%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column"},children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3d3d3d"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"EDIT USER"})})}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Agent Name",variant:"filled",name:"name",value:s.name,onChange:b}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"E-Mail",variant:"filled",name:"email",value:s.email,onChange:b}),Object(Oe.jsx)(m.a,{style:{marginTop:8,marginLeft:15,marginRight:15},label:"Password",variant:"filled",name:"pass",value:s.pass,onChange:b}),Object(Oe.jsxs)(Xe.a,{variant:"filled",style:{marginTop:8,marginLeft:15,marginRight:15},children:[Object(Oe.jsx)(Qe.a,{id:"levelLabel",children:"Access Level"}),Object(Oe.jsxs)(Ke.a,{labelId:"levelLabel",name:"role",value:s.role,onChange:b,children:[Object(Oe.jsx)(et.a,{value:"",children:"Select one option"}),Object(Oe.jsx)(et.a,{value:"admin",children:"Admin"}),Object(Oe.jsx)(et.a,{value:"user",children:"Normal"})]})]}),Object(Oe.jsxs)(h.a,{children:[Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#FF5555",color:"#FFFFFF"},onClick:e.onCancel,children:"Cancel"}),Object(Oe.jsx)(x.a,{style:{marginTop:8,marginBottom:8,marginLeft:15,marginRight:15,backgroundColor:"#3d3d3d",color:"#FFFFFF"},onClick:f,children:"Update"})]})]})})}var Ba=Object(Se.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},fieldSpacing:{marginRight:20,width:"30%"},fieldSpacingB:{marginRight:20,width:"22%"},containerRoot:{display:"flex",marginTop:25,marginBottom:40,flexDirection:"column",overflow:"scrollable"},grid:{},gridHeader:{color:"#FFFFFF",backgroundColor:"#777777"}}}));function Ma(e){var t=Ba(),r=JSON.parse(window.localStorage.getItem("crpUser")),a=n.a.useState(!1),c=Object(p.a)(a,2),i=c[0],o=c[1],s=n.a.useState(!0),l=Object(p.a)(s,2),b=l[0],f=l[1],j=n.a.useState(!1),x=Object(p.a)(j,2),m=x[0],C=x[1],w=n.a.useState([]),k=Object(p.a)(w,2),F=k[0],E=k[1],N=n.a.useState([]),S=Object(p.a)(N,2),T=S[0],R=S[1],L=n.a.useState(!1),A=Object(p.a)(L,2),D=A[0],I=(A[1],n.a.useState(!1)),P=Object(p.a)(I,2),B=P[0],M=P[1],U=n.a.useState(!1),H=Object(p.a)(U,2),G=H[0],V=H[1],W=n.a.useState(void 0),z=Object(p.a)(W,2),_=z[0],Y=z[1];n.a.useEffect((function(){i||(o(!0),q())})),n.a.useEffect((function(){V(void 0!==_)}),[_]);var q=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ca();case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t=void 0;case 9:if(void 0!==t){e.next=12;break}return C(!0),e.abrupt("return");case 12:E(t),R(t),f(!1);case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The information will be lost. \nDo you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:M(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(),M(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Number(r[0])!==t){e.next=3;break}return alert("Operation invalid \nCan not deleted your own user"),e.abrupt("return");case 3:return e.next=5,window.confirm("The information will be lost. \nDo you want to proceed?");case 5:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:return a=F.find((function(e){return e.id===t})),e.prev=9,e.next=12,ka(a);case 12:n=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),n=void 0;case 18:if(void 0!==n){e.next=21;break}return alert("Error while deleting user. Please, try again"),e.abrupt("return");case 21:alert(n.msg),n.success&&q();case 23:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=F.find((function(e){return e.id===t})),Y(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("The progress will be lost. Do you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:Y(void 0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(),Y(void 0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:t.root,children:Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#777777"},children:Object(Oe.jsx)(v.a,{variant:"h6",color:"inherit",children:"USERS"})})})}),b&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:500},children:[!m&&Object(Oe.jsx)(Ae.a,{style:{color:"#777777"}}),Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#777777"},children:m?"Someting whent wrong, try again later...":"Loading Companies information..."})]})}),Object(Oe.jsxs)(g.a,{className:t.containerRoot,style:{visibility:!0===b?"hidden":"visible"},children:[Object(Oe.jsx)(h.a,{children:Object(Oe.jsx)(v.a,{variant:"h6",style:{color:"#777777",flex:1},children:"REGISTERED USERS"})}),Object(Oe.jsx)(Le.a,{}),Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"flex-end"},children:[Object(Oe.jsx)(lt,{onUpdate:E,original:T,fields:["name","email"],color:"#777777"}),Object(Oe.jsxs)(Je.a,{"aria-label":"NEW",style:{color:"#777777",fontSize:15},onClick:function(){return M(!0)},children:["New User ",Object(Oe.jsx)(qe.a,{fontSize:"large"})]})]}),Object(Oe.jsx)("div",{style:{height:500,width:"100%"},children:Object(Oe.jsx)(We.a,{columns:[{field:"id",headerName:"ID",headerClassName:t.gridHeader,flex:1,hide:!0},{field:"name",headerName:"NAME",headerClassName:t.gridHeader,flex:1.2},{field:"email",headerName:"E-MAIL",headerClassName:t.gridHeader,flex:1.2},{field:"roleLabel",headerName:"ROLE",headerClassName:t.gridHeader,flex:.8},{field:"action",headerName:"ACTIONS",headerClassName:t.gridHeader,flex:.8,sortable:!1,hide:"admin"!==r[4],valueGetter:function(e){return e.getValue(e.id,"id")},renderCell:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-evenly",width:"100%"},children:[Object(Oe.jsx)(Je.a,{disabled:D,"aria-label":"STATUS",component:"span",style:{color:"#FF0000",backgroundColor:"#777777",marginRight:12},onClick:function(){return J(e.value)},children:Object(Oe.jsx)(_e.a,{})}),Object(Oe.jsx)(Je.a,{disabled:D,"aria-label":"STATUS",component:"span",style:{color:"#00FF00",backgroundColor:"#777777",marginRight:12},onClick:function(){return K(e.value)},children:Object(Oe.jsx)($e.a,{})})]})})}}],rows:F,pageSize:7,disableColumnMenu:!0})})]}),Object(Oe.jsx)(He.a,{open:B,onClose:Z,children:Object(Oe.jsx)(h.a,{children:Object(Oe.jsx)(Ia,{onCancel:Z,onSuccess:$})})}),Object(Oe.jsx)(He.a,{open:G,onClose:X,children:Object(Oe.jsx)(h.a,{children:Object(Oe.jsx)(Pa,{onCancel:X,onSuccess:Q,user:_})})})]})}var Ua=Object(Se.a)((function(e){return{Main:{backgroundColor:"#3D3D3D"},MainText:{color:"#FFFFFF"},Sub:{backgroundColor:"#9E9E9E"},Text:{color:"#3D3D3D",marginTop:5},Box:{display:"flex",flexDirection:"column",width:"100%"}}}));function Ha(){var e=window.innerHeight,t=(window.innerWidth,Ua()),r=Object(s.f)(),a=n.a.useState(0),c=Object(p.a)(a,2),i=c[0],o=c[1],l=n.a.useState(Object(Oe.jsx)(ia,{})),b=Object(p.a)(l,2),f=b[0],j=b[1],m=function(e){return function(t,r){o(!!r&&e)}},g=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Loging Out. \nDo you want to proceed?");case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:window.localStorage.removeItem("crpUser"),r.push("/corporate");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(h.a,{style:{display:"flex"},children:[Object(Oe.jsxs)(Ce.a,{square:!0,style:{flex:"10%",backgroundColor:"#777777",height:e},children:[Object(Oe.jsx)("img",{style:{height:100,width:250},src:C,alt:"TIS Logo"}),Object(Oe.jsx)(x.a,{style:{width:200,marginBottom:10,marginLeft:25,backgroundColor:"#FF0000",borderRadius:16},variant:"contained",onClick:g,children:"Log out"}),Object(Oe.jsxs)(h.a,{style:{maxHeight:.9*e},children:[Object(Oe.jsxs)(we.a,{square:!0,expanded:1===i,onChange:m(1),children:[Object(Oe.jsx)(ke.a,{expandIcon:Object(Oe.jsx)(Ne.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",className:t.Main,children:Object(Oe.jsx)(v.a,{variant:"h6",className:t.MainText,children:"Corporation"})}),Object(Oe.jsx)(Fe.a,{className:t.Sub,children:Object(Oe.jsx)(h.a,{className:t.Box,children:Object(Oe.jsx)(x.a,{className:t.Text,fullWidth:!0,variant:"contained",onClick:function(){return j(Object(Oe.jsx)(Ma,{}))},children:"Users"})})})]}),Object(Oe.jsxs)(we.a,{square:!0,expanded:2===i,onChange:m(2),children:[Object(Oe.jsx)(ke.a,{expandIcon:Object(Oe.jsx)(Ne.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",className:t.Main,children:Object(Oe.jsx)(v.a,{variant:"h6",className:t.MainText,children:"Companies"})}),Object(Oe.jsx)(Fe.a,{className:t.Sub,children:Object(Oe.jsx)(h.a,{className:t.Box,children:Object(Oe.jsx)(x.a,{className:t.Text,fullWidth:!0,variant:"contained",onClick:function(){return j(Object(Oe.jsx)(Da,{}))},children:"Manage"})})})]})]})]}),Object(Oe.jsx)(h.a,{square:!0,style:{flex:"90%",height:e,minHeight:e,overflow:"auto"},children:f})]})})}function Ga(){var e=Object(s.f)(),t=n.a.useState(""),r=Object(p.a)(t,2),a=r[0],c=r[1],i=n.a.useState(""),o=Object(p.a)(i,2),l=o[0],w=o[1],k=n.a.useState(!1),F=Object(p.a)(k,2),E=F[0],N=F[1],S=function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(N(!0),[a,l].every(Boolean)){t.next=5;break}return alert("All fields are requiered"),N(!1),t.abrupt("return");case 5:return t.prev=5,t.next=8,ma(a,l);case 8:r=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),r=void 0;case 14:if(void 0!==r&&null!==r.user){t.next=18;break}return alert("Invalid credentials. Please verify information"),N(!1),t.abrupt("return");case 18:N(!1),window.localStorage.setItem("crpUser",JSON.stringify(r.user)),T(),e.push("/corporate/main");case 22:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(){return t.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(""),w(""),N(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(O.a,{position:"static",children:Object(Oe.jsx)(y.a,{variant:"dense",style:{backgroundColor:"#3D3D3D",display:"flex",justifyContent:"flex-end"},children:Object(Oe.jsx)(x.a,{color:"primary",style:{marginLeft:8,marginRight:8,backgroundColor:"#FFFFFF",color:"#3D3D3D",fontWeight:"bold",borderRadius:16},variant:"contained",onClick:R,children:"AGENCY ACCESS"})})}),Object(Oe.jsx)(g.a,{style:{display:"flex",marginTop:"5%",justifyContent:"center"},children:Object(Oe.jsxs)(b.a,{style:{maxWidth:360},elevation:10,children:[Object(Oe.jsx)("img",{style:{height:175,width:360,backgroundColor:"#3D3D3D"},src:C,alt:"TIS Logo"}),Object(Oe.jsxs)(j.a,{children:[Object(Oe.jsx)(v.a,{variant:"h5",component:"h2",children:"Log In"}),Object(Oe.jsxs)(h.a,{children:[Object(Oe.jsx)(m.a,{style:{marginTop:8},id:"outlined-basic",label:"User",variant:"outlined",color:"primary",placeholder:"Enter your User Name",value:a,onChange:function(e){return c(e.target.value)},disabled:E,fullWidth:!0}),Object(Oe.jsx)(m.a,{style:{marginTop:8},id:"outlined-basic",label:"Password",variant:"outlined",color:"primary",placeholder:"Enter your Password",type:"password",value:l,onChange:function(e){return w(e.target.value)},fullWidth:!0,disabled:E})]})]}),Object(Oe.jsx)(f.a,{children:Object(Oe.jsx)(x.a,{color:"primary",style:{marginLeft:8,marginRight:8,marginBottom:16,backgroundColor:"#3D3D3D"},variant:"contained",fullWidth:!0,onClick:S,disabled:E,children:"Log In"})})]})})]})}function Va(){return Object(Oe.jsx)(o.a,{children:Object(Oe.jsxs)(s.c,{children:[Object(Oe.jsx)(s.a,{exact:!0,path:"/main",children:Object(Oe.jsx)(na,{})}),Object(Oe.jsx)(s.a,{exact:!0,path:"/corporate",children:Object(Oe.jsx)(Ga,{})}),Object(Oe.jsx)(s.a,{exact:!0,path:"/corporate/main",children:Object(Oe.jsx)(Ha,{})}),Object(Oe.jsx)(s.a,{path:"/",children:Object(Oe.jsx)(ye,{})})]})})}i.a.render(Object(Oe.jsx)(n.a.StrictMode,{children:Object(Oe.jsx)(Va,{})}),document.getElementById("root"))}},[[201,1,2]]]);
//# sourceMappingURL=main.0d1737a0.chunk.js.map